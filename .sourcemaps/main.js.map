{"version":3,"sources":["../../src/environments/environment.ts","../../src/providers/connect-state/connect-state.ts","../../src/pages/cloud/cloud.ts","../../src/providers/settings.ts","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/pages/clipsPage/clipsPage.ts","../../src/providers/video-service.ts","../../src/providers/device-connection-service.ts","../../src/components/connect-dride/connect-dride.ts","../../src/providers/android-connector/android-connector.ts","../../src/components/upload/upload.ts","../../src/components/login/login.ts","../../src/pages/cloud/cloud-pagination.service.ts","../../src/pages/live/live.ts","../../src/pages/settings/settings.ts","../../src/pages/calibration/calibration.ts","../../src/pages/manual-calibration/manual-calibration.ts","../../src/providers/globals.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/providers/auth-service.ts","../../src/providers/firmware-update.ts","../../src/pages/firmware-update-page/firmware-update-page.ts","../../node_modules/moment/locale ^/.//.*$","../../src/providers/error-logger/error-logger.ts","../../src/components/in-feed-promt/in-feed-promt.ts"],"names":[],"mappings":"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a,kBAAkB;IAE7B,4BAAmB,OAAsB,EAAS,SAAoB;QAAnD,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;IACtE,CAAC;IAED,2CAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,mCAAmC,CAAC,CAAC;IACnD,CAAC;IAEH,yBAAC;AAAD,CAAC;AATY,kBAAkB;IAJ9B,gEAAS,CAAC;QACT,QAAQ,EAAE,2BAA2B;OACG;KACzC,CAAC;uBAGsE;AAOvE;SATY,kBAAkB,qB;;;;;;;ACb/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA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","file":"main.js","sourcesContent":["export const environment = {\n\tip: \"192.168.42.1\",\n\thost: \"http://192.168.42.1\",\n\tproduction: false,\n\tfirebase: {\n\t\tapiKey: 'AIzaSyCNxGoKpeyo2HwNjkKQj9G2QWIqLtK_-oc',\n\t\tauthDomain: 'dride-ci.firebaseapp.com',\n\t\tdatabaseURL: 'https://dride-ci.firebaseio.com',\n\t\tprojectId: 'dride-ci',\n\t\tstorageBucket: 'dride-ci.appspot.com',\n\t\tmessagingSenderId: '846803975515'\n\t},\n\tgoogleMapsApi: 'AIzaSyD_9g0R-z2-NpCQpiQrFrJ7_NzWK6rRyRM',\n\tfunctionsURL: 'https://us-central1-dride-2384f.cloudfunctions.net',\n\tssids: ['dride'],\n\twifiPassword: 'ilovedride'\n};\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","import { Injectable } from '@angular/core';\n\n\n@Injectable()\nexport class ConnectStateProvider {\n\n  public _showPopupOnConnection = true;\n  public link = false;\n  constructor() {}\n\n  showPopupOnConnection(state){ //true => open | false => closed\n\t  this._showPopupOnConnection = state;\n  }\n\n  getShowPopupOnConnection(){\n\treturn this._showPopupOnConnection;\n  }\n\n\n  setLinkEstablished(link){\n\tthis.link = link;\n  }\n\n  getLinkEstablished(){\n\treturn this.link;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/connect-state/connect-state.ts","import { Component, PipeTransform, Pipe } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ActionSheetController } from 'ionic-angular';\nimport { Http } from \"@angular/http\";\n\nimport firebase from 'firebase';\n\n\nimport { AuthService } from '../../providers/auth-service';\nimport { CloudPaginationService } from '../cloud/cloud-pagination.service';\nimport { AngularFireDatabase, FirebaseObjectObservable, FirebaseListObservable } from 'angularfire2/database';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport { Dialogs } from '@ionic-native/dialogs';\nimport { SocialSharing } from '@ionic-native/social-sharing';\nimport { Firebase } from '@ionic-native/firebase';\n\nimport { VgAPI } from 'videogular2/core';\n\n/**\n * Generated class for the CloudPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@Component({\n  selector: 'page-cloud',\n  templateUrl: 'cloud.html',\n})\nexport class CloudPage {\n\n  hpClips: any;\n  public firebaseUser: any;\n  public databaseURL: string = 'https://dride-2384f.firebaseio.com';\n  public api: VgAPI;\n  public replyBox: any = [];\n  constructor(public navCtrl: NavController, public navParams: NavParams, private db: AngularFireDatabase, public af: AngularFireDatabase,\n    private dCloud: CloudPaginationService, private _auth: AuthService, private afAuth: AngularFireAuth, private http: Http,\n    private dialogs: Dialogs, private socialSharing: SocialSharing, private firebaseNative: Firebase, public actionSheetCtrl: ActionSheetController) {\n\n    //load Firebase user object\n    this._auth.isLogedIn().then(result => {\n\n\t  if (result){\n\t\tthis.hpClips = this.dCloud\n\t\tthis.firebaseUser = this._auth.getUser();\n\t\tthis.hpClips.loadUid(this.firebaseUser.uid);\n\t  }\n\n    }).catch(err =>{\n\t\tthis.navCtrl.pop();\n\t})\n\n\n\n  }\n\n  onPlayerReady(api: VgAPI) {\n    this.api = api;\n\n    this.api.getDefaultMedia().subscriptions.ended.subscribe(\n      () => {\n        // Set the video to the beginning\n        this.api.getDefaultMedia().currentTime = 0;\n      }\n    );\n  }\n\n  doInfinite(infiniteScroll) {\n\n    this.dCloud.doInfinite(infiniteScroll).then(() => infiniteScroll.complete());\n\n  }\n\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad CloudPage');\n  }\n\n  shareLink(videoId) {\n    let url = \"https://dride.io/profile/\" + this.firebaseUser.uid + \"/\" + videoId;\n    // Share via share sheet\n    var options = {\n      subject: 'Video from Dride-Cloud',\n      url: url,\n      chooserTitle: 'Share an event on Dride-Cloud' // Android only, you can override the default share sheet title\n    }\n    this.socialSharing.shareWithOptions(options).then(() => {\n      // Success!\n      this.firebaseNative.logEvent(\"video shared\", { content_type: \"share_video\", item_id: \"cloud\" });\n\n    }).catch(() => {\n      // Error!\n    });\n\n\n  }\n\n  isOwner(uid) {\n    return uid && uid == this.firebaseUser.uid\n  }\n\n\n  removeClip = function (vId, index) {\n\n    if (!this.firebaseUser.uid || !vId) {\n      console.error('Error: No Uid or videoId, Delete aborted')\n      return;\n    }\n    //TODO: prompt before remove\n\n    //firebase functions will take it from here..\n    this.db.object('/clips/' + this.firebaseUser.uid + '/' + vId).update({ 'deleted': true })\n\n\n    this.hpClips.items.splice(index, 1)\n\n  };\n\n  commentFoucs = function (id) {\n    document.getElementById(id).focus();\n  }\n\n  hasComments = function (comments) {\n    return comments && Object.keys(comments).length ? true : false;\n  };\n\n  hasMoreToLoad = function (currentVideo) {\n\n    if (!currentVideo.comments || typeof currentVideo.comments == \"undefined\")\n      return false;\n\n    return currentVideo &&\n      currentVideo.cmntsCount >\n      Object.keys(currentVideo.comments).length\n      ? true\n      : false;\n  };\n  loadMoreComments(videoId, index) {\n\n    this.http\n      .get(this.databaseURL + \"/conversations_video/\" + this.firebaseUser.uid + \"/\" + videoId + \".json\")\n      .map(response => response.json())\n      .subscribe(data => {\n        var items = data;\n        this.hpClips.items[index].comments = items;\n      },\n      error => {\n        //TODO: log this\n        console.log(\"An error occurred when requesting comments.\");\n      }\n\n      )\n\n\n  };\n\n  sendComment = function (videoId, body, index) {\n    if (!body) {\n      alert(\"Please write something\");\n      return;\n    }\n\n    this._auth.isLogedIn().then(result => {\n\n      firebase\n        .database()\n        .ref(\"conversations_video\")\n        .child(this.firebaseUser.uid)\n        .child(videoId)\n        .push({\n          autherId: this.firebaseUser.uid,\n          auther: this.firebaseUser.displayName,\n          pic: this.firebaseUser.photoURL,\n          body: body,\n          timestamp: new Date().getTime()\n        })\n        .then(r => {\n          this.loadMoreComments(videoId, index);\n          body = \"\";\n          this.replyBox[index] = \"\";\n\n          //this.bindVideoToLive(op, videoId, index);\n\n        });\n      //TODO: track\n      //$mixpanel.track(\"posted a comment\");\n    })\n  };\n\n  presentActionSheet(videoId, index) {\n    let actionSheet = this.actionSheetCtrl.create({\n      title: 'Video In The Cloud',\n      buttons: [\n        // {\n        //   text: 'Show on map',\n        //   handler: () => {\n        //     alert('show map')\n        //   }\n        // },\n        {\n          text: 'Share',\n          handler: () => {\n            this.shareLink(videoId)\n          }\n        },\n        {\n          text: 'Delete',\n          role: 'destructive',\n          handler: () => {\n            this.removeClip(videoId, index)\n          }\n        },\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          handler: () => {\n            console.log('Cancel clicked');\n          }\n        }\n      ]\n    });\n    actionSheet.present();\n  }\n\n}\n\n\n@Pipe({ name: 'keys' })\nexport class KeysPipe implements PipeTransform {\n  transform(value, args: string[]): any {\n    let keys = [];\n    for (let key in value) {\n      keys.push(value[key]);\n    }\n    return keys;\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cloud/cloud.ts","import { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport { Globals } from '../providers/globals';\n\n\n/*\n  Generated class for the Settings provider.\n\n  This provider will get the setting JSON from dride.\n\n*/\n@Injectable()\nexport class Settings {\n\n\n  public data: any;\n  public host: string;\n  \n  constructor(public http: Http, public g: Globals) {\n\n    this.host = g.host;\n\n  }\n\n\n\tload() {\n\n\t  if (this.data) {\n\t    // already loaded data\n\t    return Promise.resolve(this.data);\n\t  }\n\n\t  // don't have the data yet\n\t  return new Promise(resolve => {\n\n\t    this.http.get( this.host +'/api/getSettings')\n\t      .map(res => res.json())\n\t      .subscribe(data => {\n        \n\t        resolve(data);\n\n\t      });\n\t  });\n\t}\n\n\tsetSettings(fieldName: string, fieldValue: string, CategoryName: string) {\n\n\n\t  // don't have the data yet\n\t  return new Promise(resolve => {\n\n\t    this.http.get( this.host +'/api/setSetting?fieldName=' + fieldName + '&fieldValue=' + fieldValue + '&CategoryName=' + CategoryName)\n\t      .map(res => res.json())\n\t      .subscribe(data => {\n        \n\t        resolve(data);\n\t        \n\t      });\n\t  });\n\t}\n\n\n\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/settings.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 174;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 174\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 218;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 218\n// module chunks = 0","import { Component } from '@angular/core';\nimport { NavController, LoadingController, Platform, ActionSheetController, ModalController } from 'ionic-angular';\nimport { VideoService } from '../../providers/video-service';\nimport { DeviceConnectionService } from '../../providers/device-connection-service';\nimport { UploadPage } from '../../components/upload/upload';\nimport { LivePage } from '../../pages/live/live';\n\n\nimport { Globals } from '../../providers/globals';\nimport { AuthService } from '../../providers/auth-service';\nimport { Observable } from 'rxjs/Rx';\n\nimport { Firebase } from '@ionic-native/firebase';\nimport { Toast } from '@ionic-native/toast';\n\n\n\nimport { VgAPI } from 'videogular2/core';\n\n@Component({\n\tselector: 'page-clipsPage',\n\ttemplateUrl: 'clipsPage.html',\n\tproviders: [VideoService, Globals]\n})\n\n\nexport class clipsPage {\n\n\n\tpublic data: any;\n\tpublic host: string;\n\tpublic videosAll: any;\n\tpublic videos: any;\n\n\tpublic vid: HTMLVideoElement;\n\tpublic playing: boolean[] = [];\n\tpublic progressBar: boolean[] = [];\n\tpublic progress: any = 50;\n\tpublic currentTime: any = 0;\n\n\tpublic watchForDevice: any;\n\tpublic loading: any;\n\n\tpublic api: VgAPI;\n\tlivePage: any;\n\tpublic addedInFeedByType = [false, false, false, false]\n\n\tconstructor(public navCtrl: NavController,\n\t\tpublic videoService: VideoService,\n\t\tpublic loadingCtrl: LoadingController,\n\t\tpublic g: Globals,\n\t\tprivate _auth: AuthService,\n\t\tpublic platform: Platform,\n\t\tpublic connectToDride: DeviceConnectionService,\n\t\tprivate firebaseNative: Firebase,\n\t\tprivate toast: Toast,\n\t\tpublic actionSheetCtrl: ActionSheetController,\n\t\tpublic modalCtrl: ModalController\n\t) {\n\n\t}\n\n\tionViewWillEnter() {\n\t\tthis.host = this.g.host;\n\t\tthis.livePage = LivePage;\n\n\t\t//loop until we got a connection\n\t\tlet timer = Observable.timer(0, 3000);\n\n\n\t\tthis.watchForDevice = timer.subscribe(t => {\n\t\t\tthis.connectToDride.isConnected().then(data => {\n\n\t\t\t\tif (data) {\n\t\t\t\t\tthis.loadClipsKnowingDeviceIsConnected();\n\t\t\t\t\tthis.watchForDevice.unsubscribe();\n\t\t\t\t}\n\t\t\t},\n\t\t\t\terr => {\n\t\t\t\t\tconsole.error(err)\n\t\t\t\t})\n\t\t});\n\n\t}\n\tngOnDestroy() {\n\t\tthis.watchForDevice.unsubscribe();\n\t}\n\n\n\tonPlayerReady(api: VgAPI, videoId: string) {\n\n\t\tapi.getDefaultMedia().subscriptions.ended.subscribe(\n\t\t\t() => {\n\t\t\t\t// Set the video to the beginning\n\t\t\t\tapi.getDefaultMedia().currentTime = 0;\n\t\t\t}\n\t\t);\n\n\t\tapi.getDefaultMedia().subscriptions.pause.subscribe(\n\t\t\t() => {\n\t\t\t\tconsole.log(\"pause\")\n\t\t\t\tthis.firebaseNative.logEvent('pause', { \"vid\": '?' });\n\t\t\t}\n\t\t);\n\t\tapi.getDefaultMedia().subscriptions.playing.subscribe(\n\t\t\t() => {\n\t\t\t\tconsole.log(\"play\")\n\t\t\t\tthis.playing[videoId] = true;\n\t\t\t\tthis.firebaseNative.logEvent('playing', { \"vid\": '?' });\n\t\t\t}\n\t\t);\n\n\n\n\t}\n\n\n\n\tloadClipsKnowingDeviceIsConnected() {\n\t\tthis.videoService.load()\n\t\t\t.then(data => {\n\t\t\t\tthis.videosAll = data\n\t\t\t\tthis.videos = [];\n\t\t\t\tfor (var i = 0; i < 3 && this.videosAll.length; i++) {\n\t\t\t\t\tlet currentVideo = this.videosAll.pop();\n\n\t\t\t\t\tif (this.testImage(this.host + '/modules/video/thumb/' + currentVideo + '.jpg'))\n\t\t\t\t\t\tthis.videos.push(currentVideo);\n\t\t\t\t\telse\n\t\t\t\t\t\tconsole.log('img not found')\n\t\t\t\t}\n\t\t\t\tthis.firebaseNative.logEvent('videos_loaded', { \"count\": this.videos.length });\n\n\n\t\t\t});\n\n\t}\n\n\n\tdoRefresh(refresher) {\n\t\tconsole.log('Begin async operation', refresher);\n\n\t\tthis.videoService.load()\n\t\t\t.then(data => {\n\t\t\t\tthis.videosAll = data\n\t\t\t\trefresher.complete();\n\t\t\t});\n\n\t}\n\n\n\n\ttoDate(timeStamp) {\n\t\tif (!timeStamp)\n\t\t\treturn '';\n\n\t\tvar d = new Date(timeStamp * 1000);\n\n\t\treturn d.getDate() + '.' + (d.getMonth() + 1) + '.' + d.getFullYear() + ' ' + d.getHours() + ':' + d.getMinutes();\n\n\t}\n\n\n\tshareVideo(videoId) {\n\n\t\tthis.firebaseNative.logEvent('share', { \"action\": 'click' });\n\t\t//make sure the user Is logged in, a login pop up will jump if not.\n\t\tthis._auth.isLogedIn().then(result => {\n\n\t\t\t//open login pop up\n\t\t\tlet uploadModal = this.modalCtrl.create(UploadPage, { 'videoId': videoId });\n\t\t\tuploadModal.onDidDismiss(data => {\n\t\t\t\tthis.firebaseNative.logEvent('share', { \"action\": 'close window' });\n\t\t\t});\n\t\t\tuploadModal.present();\n\n\n\t\t}, function (reason) {\n\t\t\tconsole.log('close modal without execution.');\n\t\t});\n\n\n\t}\n\n\tdeleteVideo(videoId) {\n\t\tconsole.log('try to delete' + videoId)\n\n\t\tthis.videoService.delete(videoId)\n\t\t\t.then(data => {\n\n\t\t\t\tvar index = this.videos.indexOf(videoId, 0);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tthis.videos.splice(index, 1);\n\n\t\t\t\t\tthis.toast.show(\"Video was deleted\", '5000', 'bottom').subscribe(\n\t\t\t\t\t\ttoast => {\n\t\t\t\t\t\t\tconsole.log(toast);\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t\tthis.firebaseNative.logEvent('deleteVideo', { 'vid': this.videos });\n\t\t\t\t}\n\n\n\t\t\t});\n\n\n\t}\n\n\tpresentActionSheet(videoId) {\n\t\tlet actionSheet = this.actionSheetCtrl.create({\n\t\t\ttitle: 'Video On Device',\n\t\t\tbuttons: [\n\t\t\t\t// {\n\t\t\t\t//   text: 'Show on map',\n\t\t\t\t//   handler: () => {\n\t\t\t\t//     alert('show map')\n\t\t\t\t//   }\n\t\t\t\t// },\n\t\t\t\t{\n\t\t\t\t\ttext: 'Upload to Dride-Cloud',\n\t\t\t\t\thandler: () => {\n\t\t\t\t\t\tthis.shareVideo(videoId)\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttext: 'Delete',\n\t\t\t\t\trole: 'destructive',\n\t\t\t\t\thandler: () => {\n\t\t\t\t\t\tthis.deleteVideo(videoId)\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttext: 'Cancel',\n\t\t\t\t\trole: 'cancel',\n\t\t\t\t\thandler: () => {\n\t\t\t\t\t\tconsole.log('Cancel clicked');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\t\tactionSheet.present();\n\t}\n\n\t/*\n\t*  This will prevent blank images to load\n\t*/\n\ttestImage(url) {\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\tresolve(\"success\");\n\n\t\t\t// var timeout = 5000;\n\t\t\t// var timer, img = new Image();\n\t\t\t// img.onerror = img.onabort = function () {\n\t\t\t//     clearTimeout(timer);\n\t\t\t//     reject(\"error\");\n\t\t\t// };\n\t\t\t// img.onload = function () {\n\t\t\t//     clearTimeout(timer);\n\t\t\t//     resolve(\"success\");\n\t\t\t// };\n\t\t\t// timer = setTimeout(function () {\n\t\t\t//     // reset .src to invalid URL so it stops previous\n\t\t\t//     // loading, but doesn't trigger new load\n\t\t\t//     img.src = \"//!!!!/test.jpg\";\n\t\t\t//     reject(\"timeout\");\n\t\t\t// }, timeout);\n\t\t\t// img.src = url;\n\t\t});\n\t}\n\n\tdoInfinite(infiniteScroll) {\n\n\t\tif (!this.videosAll) {\n\t\t\tinfiniteScroll.complete();\n\t\t\treturn;\n\t\t}\n\n\t\tfor (var i = 0; i < 6 && this.videosAll.length; i++) {\n\n\t\t\t//insert inFeedPromt slides\n\t\t\tif (this.videosAll.length > 4 && !this.addedInFeedByType[2]) {\n\t\t\t\tthis.videos.push({ type: 2 });\n\t\t\t\tthis.addedInFeedByType[2] = true;\n\t\t\t}\n\n\n\t\t\tlet currentVideo = this.videosAll.pop();\n\n\t\t\tthis.testImage(this.host + '/modules/video/thumb/' + currentVideo + '.jpg')\n\t\t\t\t.then(r => this.videos.push(currentVideo))\n\t\t\t\t.catch(err => console.log('img not found'))\n\n\t\t}\n\n\t\tinfiniteScroll.complete();\n\n\t}\n\n\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/clipsPage/clipsPage.ts","import { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport { Globals } from '../providers/globals';\n\n/*\n  Generated class for the VideoService provider.\n\n  See https://angular.io/docs/ts/latest/guide/dependency-injection.html\n  for more info on providers and Angular 2 DI.\n*/\n\n@Injectable()\nexport class VideoService {\n\n\tpublic host: string;\n\tpublic data: any;\n\n\tconstructor(public http: Http, public g: Globals) {\n\n\t\tthis.host = g.host;\n\n\t\tconsole.log('Hello VideoService Provider');\n\t}\n\n\tload() {\n\t  if (this.data) {\n\t    // already loaded data\n\t    return Promise.resolve(this.data);\n\t  }\n\n\t  // don't have the data yet\n\t  return new Promise(resolve => {\n\n\t\tthis.http.get( this.host + '/api/getClips')\n\t      .map(res => res.json())\n\t      .subscribe(data => {\n\t\t\tthis.data = data.data;\n\t\t\t//objectify videos for dride generated object of video id's\n\t\t\tfor(let i=0; i< this.data.length; i++){\n\t\t\t\tconsole.log(this.data[i])\n\t\t\t\tthis.data[i] = {'vId': this.data[i], 'type': 0 }\n\t\t\t}\n\n\n\n\t        resolve(this.data);\n\t      });\n\t  });\n\t}\n\n\tdelete(videoId) {\n\n\t  // don't have the data yet\n\t  return new Promise(resolve => {\n\n\t    this.http.get( this.host + '/api/deleteClip/' + videoId)\n\t      .map(res => res.json())\n\t      .subscribe(data => {\n\n\t        this.data = data.data;\n\t        \n\t        resolve(this.data);\n\t      });\n\t  });\n\t}\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/video-service.ts","import { Injectable, Component } from '@angular/core';\nimport { ModalController, Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { ConnectDrideComponent } from '../components/connect-dride/connect-dride';\nimport { Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport { Globals } from '../providers/globals';\nimport { AngularFireDatabase, FirebaseListObservable } from 'angularfire2/database';\nimport { BLE } from '@ionic-native/ble';\nimport { LocalNotifications } from '@ionic-native/local-notifications';\nimport { environment } from '../environments/environment';\nimport { ConnectStateProvider } from '../providers/connect-state/connect-state';\n\n\n\ndeclare var bluetoothle: any;\ndeclare var WifiWizard: any;\n/*\n  Generated class for the DeviceConnectionService provider.\n\n  See https://angular.io/docs/ts/latest/guide/dependency-injection.html\n  for more info on providers and Angular 2 DI.\n*/\n@Injectable()\nexport class DeviceConnectionService {\n\n\tpublic connectModal: any;\n\tpublic isOnlineB: boolean;\n\tpublic serviceUUID: string;\n\tpublic characteristicUUID: string;\n\tpublic online = false;\n\n\tconstructor(public modalCtrl: ModalController,\n\t\tpublic g: Globals,\n\t\tpublic http: Http,\n\t\tpublic af: AngularFireDatabase,\n\t\tprivate statusBar: StatusBar,\n\t\tpublic platform: Platform,\n\t\tprivate ble: BLE,\n\t\tprivate localNotifications: LocalNotifications,\n\t\tpublic connState: ConnectStateProvider\n\t) {\n\n\t\tthis.isOnlineB = false;\n\t\tthis.serviceUUID = '1234';\n\t\tthis.characteristicUUID = '5678'\n\n\n\t}\n\n\tngOnInit() {\n\n\t\tconsole.log(\"Scanning Started\");\n\n\t\tthis.ble.isEnabled().then(res => {\n\t\t\tconsole.log(res)\n\t\t\tsetTimeout(this.scanBLE(), 3000);\n\t\t})\n\n\t}\n\n\tscanBLE() {\n\t\tconsole.log('startBLE')\n\n\t\tthis.ble.isEnabled().then(res => {\n\t\t\tconsole.log('status')\n\t\t\tconsole.log(res)\n\t\t}, err => {\n\t\t\tconsole.log('err!')\n\t\t\tconsole.log(err)\n\t\t\tthis.ble.enable();\n\t\t})\n\n\n\t\tthis.ble.startScan([this.serviceUUID]).subscribe(device => {\n\n\t\t\t// if we're in the background, add a local notification\n\t\t\tvar localNotification = {\n\t\t\t\ttitle: 'Dride is paired',\n\t\t\t\ttext: 'Make sure to connect to the dride WIFI network'\n\t\t\t};\n\n\t\t\t// stop scanning and connect automatically\n\t\t\tif (device.name == 'dride' || device.name == 'raspberrypi') {\n\n\t\t\t\tthis.localNotifications.schedule(localNotification);\n\n\t\t\t\tconsole.log(\"try to connect\")\n\t\t\t\tthis.ble.connect(device.id).subscribe(con => {\n\n\t\t\t\t\tconsole.log(\"con\")\n\t\t\t\t\tconsole.log(con)\n\n\t\t\t\t\t//send timestamp to device\n\t\t\t\t\tvar timestamp = parseInt((new Date).getTime() / 1000 + '') + '';\n\t\t\t\t\t//7787 is the serviceUUID for time update\n\t\t\t\t\t//9997 is the characteristicUUID time update\n\t\t\t\t\tthis.ble.write(device.id, '7787', '9997', this.stringToBytes(timestamp)).then(res => {\n\t\t\t\t\t\tconsole.log('res')\n\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t}, err => {\n\t\t\t\t\t\tconsole.log('err')\n\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t})\n\n\t\t\t\t\tthis.ble.startNotification(device.id, this.serviceUUID, this.characteristicUUID).subscribe(buffer => {\n\n\t\t\t\t\t\tconsole.log(\"onData\");\n\t\t\t\t\t\tvar data = new Uint32Array(buffer);\n\t\t\t\t\t\tconsole.log(data[0]);\n\n\t\t\t\t\t\tvar localNotification = {\n\t\t\t\t\t\t\ttitle: 'Uploading video..',\n\t\t\t\t\t\t\ttext: 'Click here to share this video with your friends'\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tthis.localNotifications.schedule(localNotification);\n\n\t\t\t\t\t})\n\n\n\t\t\t\t}, err => {\n\n\t\t\t\t\tconsole.log('Error connecting to device', err);\n\n\t\t\t\t\tconsole.log('reconnecting..');\n\t\t\t\t\tthis.scanBLE();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t\terr => {\n\t\t\t\tconsole.log('Error scanning for Bluetooth devices')\n\t\t\t});\n\n\t}\n\n\tstringToBytes(string: any) {\n\t\tvar array = new Uint8Array(string.length);\n\t\tfor (var i = 0, l = string.length; i < l; i++) {\n\t\t\tarray[i] = string.charCodeAt(i);\n\t\t}\n\t\treturn array.buffer;\n\t}\n\tz\n\tisConnected() {\n\t\tconsole.error('isConnected????')\n\t\treturn new Promise<boolean>((resolve, reject) => {\n\n\t\t\tthis.isOnline().then(resp => {\n\n\t\t\t\tif (!resp) {\n\t\t\t\t\tif (this.connState.getShowPopupOnConnection()) {\n\t\t\t\t\t\tthis.connectModal = this.modalCtrl.create(ConnectDrideComponent);\n\t\t\t\t\t\tthis.connectModal.present()\n\t\t\t\t\t\tthis.connState.showPopupOnConnection(false)\n\n\t\t\t\t\t}\n\t\t\t\t\tresolve(false);\n\n\t\t\t\t} else {\n\t\t\t\t\tresolve(true);\n\t\t\t\t\tif (this.connectModal)\n\t\t\t\t\t\tthis.connectModal.dismiss();\n\t\t\t\t}\n\t\t\t}, err => {\n\t\t\t\tconsole.log('other process is connecting.. Terminating.')\n\t\t\t});\n\n\n\t\t});\n\t}\n\n\tisOnline() {\n\t\treturn new Promise((resolve, reject) => {\n\n\t\t\t// if other process already stared to connect\n\t\t\tif (this.connState.getLinkEstablished()) {\n\t\t\t\treject();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.platform.is('cordova'))\n\t\t\t\t//return false if not on our WIFI\n\t\t\t\tWifiWizard.getCurrentSSID(\n\t\t\t\t\tcurrentSSID => {\n\t\t\t\t\t\tlet prom = [];\n\t\t\t\t\t\tfor (let i = 0; i < environment.ssids.length; i++) {\n\t\t\t\t\t\t\tif (currentSSID.indexOf(environment.ssids[i]) !== -1) {\n\t\t\t\t\t\t\t\tthis.isOnlineInner().then(\n\t\t\t\t\t\t\t\t\tr => resolve(r),\n\t\t\t\t\t\t\t\t\te => resolve(e)\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tconsole.log('Our wifi is not found :(')\n\t\t\t\t\t\t\tresolve(false);\n\t\t\t\t\t\t}, 2000)\n\n\t\t\t\t\t},\n\t\t\t\t\te => {\n\t\t\t\t\t\tconsole.error(e)\n\t\t\t\t\t\tresolve(false)\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\telse {\n\t\t\t\tconsole.log('Browser detection')\n\t\t\t\tthis.isOnlineInner().then(\n\t\t\t\t\tr => resolve(r),\n\t\t\t\t\te => resolve(e)\n\t\t\t\t)\n\t\t\t}\n\t\t});\n\t}\n\n\tisOnlineInner() {\n\n\t\t// don't have the data yet\n\t\treturn new Promise(resolve => {\n\n\t\t\t//if we didn't receive a response than we're not connected!\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (!this.online) {\n\t\t\t\t\tthis.connState.setLinkEstablished(false);\n\t\t\t\t\tresolve(false);\n\t\t\t\t}\n\t\t\t}, 12000);\n\n\n\t\t\tlet con = this.http.get(this.g.host + '/api/isOnline')\n\t\t\t\t.map(res => res.json())\n\t\t\t\t.timeout(1000)\n\t\t\t\t.subscribe(\n\t\t\t\t\tdata => {\n\n\t\t\t\t\t\tif (data.status) {\n\t\t\t\t\t\t\tthis.makeSureDeviceIsRegistered()\n\t\t\t\t\t\t\tresolve(true);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t},\n\t\t\t\t\terr => this.connState.setLinkEstablished(false)\n\t\t\t\t);\n\n\t\t});\n\n\t}\n\n\tgetLinkEstablished(){\n\t\treturn this.connState.getLinkEstablished()\n\t}\n\n\tmakeSureDeviceIsRegistered() {\n\n\t\tlet con = this.http.get(this.g.host + '/api/getSerialNumber')\n\t\t\t.map(res => res.json())\n\t\t\t.timeout(2000)\n\t\t\t.subscribe(\n\t\t\tdata => {\n\t\t\t\tconst devices = this.af.object('devicesAll/' + data.serial);\n\t\t\t\tdevices.set({ 'lastSeen': (new Date).getTime() });\n\t\t\t}\n\t\t\t);\n\n\t\treturn true;\n\n\n\t}\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/device-connection-service.ts","import { Component } from '@angular/core';\nimport { ModalController, Platform } from 'ionic-angular';\nimport { InAppBrowser } from '@ionic-native/in-app-browser';\nimport { OpenNativeSettings } from '@ionic-native/open-native-settings';\n\nimport { ConnectStateProvider } from '../../providers/connect-state/connect-state';\nimport { environment } from '../../environments/environment';\nimport { AndroidConnectorProvider } from '../../providers/android-connector/android-connector';\n\ndeclare var WifiWizard: any;\n\n\n/*\n  Generated class for the ConnectDride component.\n\n  See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html\n  for more info on Angular 2 Components.\n*/\n@Component({\n  selector: 'connect-dride',\n  templateUrl: 'connect-dride.html'\n})\nexport class ConnectDrideComponent {\n\n  public isLoaded: boolean = false;\n\n  constructor(public modalCtrl: ModalController, \n\tprivate iab: InAppBrowser, \n\tpublic platfrom: Platform, \n\tpublic connState: ConnectStateProvider,\n\tprivate openNativeSettings: OpenNativeSettings,\n    private androidConnect: AndroidConnectorProvider) {\n\n  }\n\n  ionViewWillEnter() {\n\tthis.connectToWifi();\n  }\n\n  connectToWifi() {\n\t\t\n\t// for the small animation of the car\n\tsetTimeout(() => {\n\t\tthis.isLoaded =true;\n\t}, 1000);\n\n\n\tif (this.platfrom.is('android')){\n\n\t\t//make sure WIFI is on if not open it\n\t\tWifiWizard.setWifiEnabled(true, \n\t\t\t() => {\n\t\t\t\tconst r = this.androidConnect.android_connectSequence()\n\t\t\t\tconsole.error('r')\n\t\t\t\tconsole.error(r)\n\t\t\t},\n\t\t\t(err) => console.error(err)\n\t\t)\n\n\n\n\t}\n  }\n\n\n  goToWifiSettings() {\n\t  this.openNativeSettings.open('wifi')\n  }\n  /*\n  *\tAndroid is able to connect to device on it own so we will start connection sequence automatically on Android only\n  */\n  getConnectionLink() {\n\treturn this.connState.getLinkEstablished() || this.platfrom.is('android');\n  }\n\n\n  buyDride(){\n\n    const browser = this.iab.create('https://dride.io/store?ref=app', '_system');\n\n  }\n\n\n\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/connect-dride/connect-dride.ts","import { Injectable } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { environment } from '../../environments/environment';\n\ndeclare var WifiWizard: any;\n\n\n\n@Injectable()\nexport class AndroidConnectorProvider {\n\n\tpublic scannedNetworks = {}\n\tconstructor(private platform: Platform) {\n\n\t}\n\n\tandroid_connectSequence() {\n\n\t\tthis.android_scanWifi().then(\n\t\t\t(networks) => {\n\t\t\t\tconsole.error(networks)\n\t\t\t\tthis.scannedNetworks = networks;\n\t\t\t\tthis.android_connectToOurWifi(networks);\n\t\t\t}\n\t\t);\n\n\t}\n\n\tandroid_ifHavePotentialWifi(networks, flat:boolean) {\n\n\t\tfor (let i = 0; i < environment.ssids.length; i++) {\n\t\t\tfor (let j = 0; j < networks.length; j++) {\n\t\t\t\tif (flat){\n\t\t\t\t\tif (networks[j].indexOf(environment.ssids[i]) !== -1) {\n\t\t\t\t\t\treturn networks[j]\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif (networks[j].SSID && networks[j].SSID.indexOf(environment.ssids[i]) !== -1) {\n\t\t\t\t\t\treturn networks[j]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\tandroid_connectToOurWifi(networks) {\n\n\n\t\tconst SSIDtoConnect = this.android_ifHavePotentialWifi(networks, false);\n\n\t\t//TODO: device not in range message\n\t\tif (!SSIDtoConnect){\n\t\t\tconsole.error('Device is not in range..')\n\t\t\treturn false;\n\t\t}\n\n\t\t//connect to WIFI\n\t\tconsole.error('connnnecting to:  ' + SSIDtoConnect.SSID)\n\t\t\n\t\t// make sure our ssid is in the knows list\n\t\t// if not add to list\n\t\tthis.android_ensureWifiInList().then(\n\t\t\t()=> {\n\t\t\t\t\t//connect to WIFI\n\t\t\t\t\tconsole.error('connnnecting to:  ' + SSIDtoConnect.SSID)\n\t\t\t\t\tWifiWizard.connectNetwork(SSIDtoConnect.SSID,\n\t\t\t\t\t\t() => console.log('Connected successfully to WIFI'),\n\t\t\t\t\t\t(err) => console.error('Connected successfully to WIFI failed', err)\n\t\t\t\t\t)\n\t\t\t}, \n\t\t\t(err)=> {\n\t\t\t\tconsole.error(err)\n\t\t\t})\n\n\n\n\n\n\t}\n\n\n\tandroid_ensureWifiInList(){\n\t\tconsole.error('android_ensureWifiInList')\n\t\treturn new Promise( (resolve, reject) => {\n\t\t\t\n\t\t\tWifiWizard.listNetworks(\n\t\t\t\t(networks) => {\n\t\t\t\t\tif (this.android_ifHavePotentialWifi(networks, true))\n\t\t\t\t\t\tresolve()\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.android_addToKnownNetworks(this.scannedNetworks).then(\n\t\t\t\t\t\t\t()=>resolve(), \n\t\t\t\t\t\t\t(err)=>reject(err)\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t(err) => reject(err));\n\n\n\t\t});\n\n\t}\n\n\t// this will add the camera to the known network list \n\t// This functions is responsible for managing the passwords..\n\tandroid_addToKnownNetworks(networks) {\n\t\tconsole.error('android_addToKnownNetworks')\n\t\treturn new Promise( (resolve, reject) =>{\n\t\t\tconst ourWifiObj = this.android_ifHavePotentialWifi(networks, false)\n\t\t\t\n\t\t\tif (!ourWifiObj)\n\t\t\t\treject('No network');\n\n\t\t\tconst wifiObj = WifiWizard.formatWifiConfig(\n\t\t\t\tourWifiObj.SSID, //ssid\n\t\t\t\tenvironment.wifiPassword, //pass\n\t\t\t\t'WPA'\n\t\t\t);\n\t\t\tWifiWizard.addNetwork(wifiObj,\n\t\t\t\t() => {\n\t\t\t\t\tresolve();\n\t\t\t\t},\n\t\t\t\t(err) => {\n\n\t\t\t\t\t//TODO: deal with wrong password\n\n\n\t\t\t\t\tconsole.error(err);\n\t\t\t\t\treject();\n\t\t\t\t});\n\t\t});\n\t}\n\n\n\tandroid_scanWifi() {\n\t\tconsole.error('android_scanWifi')\n\t\treturn new Promise( (resolve) =>{\n\t\t\tWifiWizard.startScan(\n\t\t\t\t() => console.error('scan started?'),\n\t\t\t\t(err) => console.error(err))\n\n\t\t\t\t\n\t\t\tvar prom = setTimeout(() => {\n\t\t\t\tWifiWizard.getScanResults({}, networks => {\n\n\t\t\t\t\tresolve(networks)\n\n\t\t\t\t}, err => {\n\t\t\t\t\tconsole.error(err)\n\t\t\t\t})\n\t\t\t}, 10000);\n\n\t\t});\n\t}\n\n\t/*\n\t*\tAny functions that is activated inside this function will be used with cellular connection\n\t*/\n\tandroid_ensure3G(callback) {\n\n\t\t//if we're not on android make the call\n\t\tif (!this.platform.is('android'))\n\t\t\tcallback();\n\n\t\t//check if have internet then simply fire the callback\n\t\tif (this.android_haveInternet()) {\n\t\t\tcallback()\n\t\t} else {\n\t\t\tWifiWizard.getCurrentSSID(ssidHandler => {\n\t\t\t\tWifiWizard.disconnectNetwork(ssidHandler,\n\t\t\t\t\t() => {\n\t\t\t\t\t\tcallback().then(() => {\n\t\t\t\t\t\t\tthis.android_connectSequence()\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\t(err) => console.error(err)\n\t\t\t\t)\n\t\t\t},\n\t\t\t\t(err) => console.error(err)\n\t\t\t)\n\n\t\t}\n\n\t}\n\n\tandroid_haveInternet() {\n\n\t\treturn false\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/android-connector/android-connector.ts","import { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Platform, LoadingController, Content, ViewController, App } from 'ionic-angular';\nimport { Globals } from '../../providers/globals';\nimport { AuthService } from '../../providers/auth-service';\nimport { AngularFireDatabase, FirebaseObjectObservable } from 'angularfire2/database';\nimport { Transfer, FileUploadOptions, TransferObject } from '@ionic-native/transfer';\nimport { Dialogs } from '@ionic-native/dialogs';\nimport { File } from '@ionic-native/file';\nimport { SocialSharing } from '@ionic-native/social-sharing';\nimport firebase from 'firebase';\nimport { Firebase } from '@ionic-native/firebase';\nimport { Insomnia } from '@ionic-native/insomnia';\n\nimport { VgAPI } from 'videogular2/core';\nimport { VideoService } from '../../providers/video-service';\nimport { CloudPage } from '../../pages/cloud/cloud';\n\nimport {  trigger,  state,  style,  animate,  transition} from '@angular/animations';\nimport { VideoEditor } from '@ionic-native/video-editor';\n\n\n\n@Component({\n  selector: 'page-upload',\n  templateUrl: 'upload.html',\n  providers: [VideoService]\n})\nexport class UploadPage {\n  @ViewChild(Content) content: Content;\n  public host: string;\n  public videoId: string;\n  public api: VgAPI;\n  structure: any = { lower: 0, upper: 25 };\n  currentTime: number;\n  displayCurrentTime: number;\n  totalTime: number = 60;\n  seekLower: number;\n  seekUpper: number;\n  licensePlates: string;\n  description: string;\n  userClipDbObject: FirebaseObjectObservable<any[]>;\n  public loading: any;\n  public videosAll: any;\n  public videos: any;\n  public progress: number = 0;\n  public downloadStatus: string = '';\n\n  constructor(\n    public viewCtrl: ViewController,\n    public navCtrl: NavController,\n    public appCtrl: App,\n    public navParams: NavParams,\n    public g: Globals,\n    private _auth: AuthService,\n    public af: AngularFireDatabase,\n    public platform: Platform,\n    private socialSharing: SocialSharing,\n    private transfer: Transfer,\n    private file: File,\n    private firebaseNative: Firebase,\n    public loadingCtrl: LoadingController,\n    public videoService: VideoService,\n    private videoEditor: VideoEditor,\n    private dialogs: Dialogs,\n    private insomnia: Insomnia\n  ) {\n    this.host = g.host;\n    this.videoId = navParams.get('videoId');\n\n    //prevent falling asleep\n    this.insomnia.keepAwake()\n\n  }\n\n\n  trim() {\n    this.trimTo();\n    this.trimFrom();\n  }\n  trimTo() {\n\n    if (this.structure.lower && this.seekLower == this.structure.lower) return;\n\n    this.seekLower = this.structure.lower;\n    this.api.seekTime(this.seekLower);\n  }\n\n  trimFrom() {\n\n    if (this.structure.upper != 25 && this.seekUpper == this.structure.upper) return;\n\n    this.seekUpper = this.structure.upper;\n    this.api.seekTime(this.seekUpper);\n  }\n\n  onPlayerReady(api: VgAPI) {\n    this.api = api;\n\n    this.api.getDefaultMedia().subscriptions.loadedMetadata.subscribe(() => {\n\t\tthis.totalTime = parseInt((this.api.getDefaultMedia().time.total / 1000) + '');\n      }\n    );\n  }\n\n\n  closeWindow(state = false) {\n\n    this.insomnia.allowSleepAgain()\n\n    this.viewCtrl.dismiss({ completed: state });\n    \n\n  }\n\n\n  cropAndUpload() {\n\n\n    //make sure the user Is logged in, a login pop up will jump if not.\n    this._auth.isLogedIn().then(result => {\n\n      this.showLoading('Downloading video from device.');\n\n      //check we have at least 150 mb free on device\n      this.file.getFreeDiskSpace().then(\n        res => {\n          \n          //monitor this regarding this PR\n          if (this.platform.is('android'))\n            res = res * 1024\n\n          if (res > 150000000)\n            this.download(this.videoId)\n          else{\n            this.dialogs.alert('There is not enough space on your device to share this video. Please free up additional space and try again.')\n            this.dismissLoading();\n          }\n        }\n\n      )\n\n\n    }, function (reason) {\n      console.log('close modal without execution.');\n    });\n\n\n  }\n\n\n  public download(videoId) {\n\n    if (!this.platform.is('cordova')) {\n      alert('Platform not supported');\n      return;\n    }\n\n    this.showLoading('Downloading video from device.');\n    setTimeout( r =>{\n          this.content.scrollToBottom(600);\n    }, 200)\n\n    const fileTransfer: TransferObject = this.transfer.create();\n\n    let url = this.host + '/modules/video/clip/' + videoId + '.mp4';\n\n    fileTransfer.onProgress((progressEvent: any) => {\n      //should be 30% of the entire process\n      this.progress = Math.round((progressEvent.loaded / progressEvent.total) * 30);\n    });\n\n    fileTransfer.download(url, this.file.cacheDirectory + videoId + '_tmp.mp4').then((entry) => {\n      console.log(entry);\n      console.log('download complete: ' + entry.toURL());\n\n        //trim the video\n        this.videoEditor.trim({\n                fileUri: entry.toURL(), // path to input video\n                trimStart: this.seekLower, // time to start trimming in seconds\n                trimEnd: this.seekUpper, // time to end trimming in seconds\n                outputFileName: videoId + '_trimmed_' + (new Date).getTime(), // output file name\n                progress: (info) => {\n                  console.log(info)\n                } // optional, see docs on progress\n            })\n            .then(resPath => {\n              console.log('trimSuccess, result: ' + resPath)\n              let resultFileName = resPath.replace(/^.*[\\\\\\/]/, '');\n              let resultPath = 'file://' + resPath.replace(resultFileName, '');\n              console.log('>>>> ' + resultPath + '||' + resultFileName)\n              this.file.readAsArrayBuffer(resultPath, resultFileName).then(file => {\n\n                this.uploadToDrideNetworkFB(file, videoId, 'clips');\n                this.uploadThumbOnBackground(videoId, fileTransfer);\n                //this.uploadGPSOnBackground(videoId, fileTransfer);\n\n\n              }).catch(err => { console.log(err); console.error('file upload failed ', err);});\n                  \n            })\n            .catch((error: any) => console.log('video trim error', error));\n\n    }, (error) => {\n      // handle error\n      console.log(error);\n    });\n\n\n  }\n\n\n  public uploadThumbOnBackground(videoId, fileTransfer) {\n    let url = this.host + '/modules/video/thumb/' + videoId + '.jpg';\n\n    fileTransfer.download(url, this.file.cacheDirectory + 'tmpSharedClips.jpg').then((entry) => {\n      console.log(entry);\n      console.log('download complete [thumb]: ' + entry.toURL());\n\n      this.file.readAsArrayBuffer(this.file.cacheDirectory, 'tmpSharedClips.jpg').then(file => {\n        this.uploadToDrideNetworkFB(file, videoId, 'thumbs');\n      }).catch(err => console.error('file upload failed [thumb] ', err));\n\n    }, (error) => {\n      // handle error\n      console.log(error);\n    });\n  }\n\n  public uploadGPSOnBackground(videoId, fileTransfer) {\n    let url = this.host + '/modules/video/gps/' + videoId + '.json';\n\n    fileTransfer.download(url, this.file.cacheDirectory + 'tmpSharedGPS.json').then((entry) => {\n      console.log(entry);\n      console.log('download complete [thumb]: ' + entry.toURL());\n\n      this.file.readAsArrayBuffer(this.file.cacheDirectory, 'tmpSharedGPS.json').then(file => {\n        this.uploadToDrideNetworkFB(file, videoId, 'gps');\n      }).catch(err => console.error('file upload failed [GPS] ', err));\n\n    }, (error) => {\n      // handle error\n      console.log(error);\n    })\n  }\n\n\n  public uploadToDrideNetworkFB(file, videoId, bucket) {\n\n    // Create a root reference\n    var uid = this._auth.getUid();\n    this.showLoading('Uploading video to Dride-Cloud.');\n    var metadata = {\n      contentType: this.getFileMetaDataByBucketName(bucket),\n    };\n\n    var storage = firebase.storage();\n    const storageRef = storage.ref().child(bucket).child(uid).child(videoId + (this.getFileExtensionByBucketName(bucket)));\n    storageRef.put(file, metadata)\n      .on('state_changed',\n       snapshot => {\n        //dont monitor progress for thumbnail\n        if (bucket == 'clips') {\n          console.log((snapshot.bytesTransferred / snapshot.totalBytes) * 70 )\n          this.progress = 30 + parseInt((snapshot.bytesTransferred / snapshot.totalBytes) * 70 + '');\n        }\n\n      },\n       error =>  console.log(error),\n       () => {\n        // success\n        console.log(\"Upload completed  \")\n\n        if (bucket == 'clips') \n          this.file.removeFile(this.file.cacheDirectory, videoId + '_tmp.mp4')\n\n        if (bucket == 'thumbs') \n          this.file.removeFile(this.file.cacheDirectory, 'tmpSharedClips.jpg')\n\n        if (bucket == 'gps') \n          this.file.removeFile(this.file.cacheDirectory, 'tmpSharedGPS.json')\n\n        storageRef.getDownloadURL().then(url => {\n\n          //save to DB\n          var putObj = {dateUploaded: new Date().getTime(), [bucket]: {'src': url}, plates: this.licensePlates, description: this.description}\n          putObj = JSON.parse(JSON.stringify(putObj))\n\n          this.userClipDbObject = this.af.object('/clips/' + uid + '/' + videoId);\n          this.userClipDbObject.set(putObj).then(_ => console.log('item added! ' + bucket));\n\n          if (bucket == 'clips') {\n            this.dismissLoading();\n            // upload done\n            this.dialogs.alert('Great! Your video is now on Dride-Cloud.', 'WhoHoo 🙌').then(r => {\n              this.appCtrl.getRootNav().push(CloudPage).then(() => this.closeWindow(true))\n             })\n\n\n\n          }\n        }, (err) => {\n          // error\n          console.log(err)\n        })\n\n      })\n\n\n\n\n  }\n\n\n  public getFileExtensionByBucketName(bucket) {\n\n    if (bucket == 'clips')\n      return '.mp4';\n    if (bucket == 'thumbs')\n      return '.jpg';\n    if (bucket == 'gps')\n      return '.json';\n\n  }\n\n  public getFileMetaDataByBucketName(bucket){\n\n      if (bucket == 'clips' )\n        return 'video/mp4';\n      if (bucket == 'thumbs' )\n        return 'image/jpeg';\n      if (bucket == 'gps' )\n        return 'application/octet-stream';\n\n  }\n\n  shareToSocial(url) {\n    var options = {\n      subject: 'dride event',\n      url: url,\n      chooserTitle: 'Share an event' // Android only, you can override the default share sheet title\n    }\n\n    // Share via share sheet\n    this.socialSharing.shareWithOptions(options).then(() => {\n      // Success!\n      this.firebaseNative.logEvent(\"video uploaded\", { content_type: \"share_video\", item_id: \"home\" });\n\n    }).catch(() => {\n      // Error!\n    });\n  }\n\n  public showLoading(status: string) {\n\n    this.downloadStatus = status\n\n\n  }\n\n  public dismissLoading() {\n    this.downloadStatus = null\n  }\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/upload/upload.ts","import { Component } from '@angular/core';\nimport { ViewController, Platform, AlertController } from 'ionic-angular';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { Facebook, FacebookLoginResponse } from '@ionic-native/facebook';\nimport { GooglePlus } from '@ionic-native/google-plus';\n\nimport { Observable } from 'rxjs/Observable';\nimport * as firebase from 'firebase';\nimport { Firebase } from '@ionic-native/firebase';\n/*\n  Generated class for the Login component.\n\n  See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html\n  for more info on Angular 2 Components.\n*/\n@Component({\n\tselector: 'login',\n\ttemplateUrl: 'login.html'\n})\nexport class LoginComponent {\n\n\tlogin: any;\n\tisFlipped = false;\n\tl: { email: string, password: string } = { email: '', password: '' }\n\tr: { email: string, password: string, name: string } = { email: '', password: '', name: '' }\n\n\n\tpublic authState: Observable<firebase.User>;\n\tpublic isLoaded: boolean = false;\n\n\tFB_APP_ID: number = 1825311747740641;\n\n\n\tconstructor(public viewCtrl: ViewController, public afAuth: AngularFireAuth, private platform: Platform, private fb: Facebook,\n\t\tpublic statusBar: StatusBar, private alertCtrl: AlertController, private googlePlus: GooglePlus, private firebaseNative: Firebase) {\n\n\n\t\tthis.authState = afAuth.authState;\n\t\tsetTimeout(() => {\n\t\t\tthis.isLoaded = true;\n\t\t}, 1000);\n\n\n\n\t}\n\n\tget authenticated(): boolean {\n\t\treturn this.authState !== null;\n\t}\n\n\n\tsignInWithFacebook(): void {\n\n\t\tif (this.platform.is('cordova')) {\n\n\t\t\tthis.fb.login(['email', 'public_profile']).then(res => {\n\t\t\t\tconst facebookCredential = firebase.auth.FacebookAuthProvider.credential(res.authResponse.accessToken);\n\t\t\t\tfirebase.auth().signInWithCredential(facebookCredential).then(() => this.onSignInSuccess())\n\t\t\t\t\t.catch((error) => {\n\n\t\t\t\t\t\tlet alert = this.alertCtrl.create({\n\t\t\t\t\t\t\ttitle: 'Pull Over',\n\t\t\t\t\t\t\tsubTitle: error.message,\n\t\t\t\t\t\t\tbuttons: ['Dismiss']\n\t\t\t\t\t\t});\n\t\t\t\t\t\talert.present();\n\n\t\t\t\t\t});\n\t\t\t})\n\t\t} else {\n\t\t\tthis.afAuth.auth\n\t\t\t\t.signInWithPopup(new firebase.auth.FacebookAuthProvider())\n\t\t\t\t.then(res => console.log(res));\n\t\t}\n\n\t}\n\n\tsignInWithGoogle(): void {\n\n\t\tthis.googlePlus.login({\n\t\t\t'webClientId': '802741428178-b4c1j22k6507i33qhmmqgjem3s5e1ofg.apps.googleusercontent.com',\n\t\t})\n\t\t\t.then(res => {\n\t\t\t\tconst googleCredential = firebase.auth.GoogleAuthProvider.credential(res.idToken);\n\t\t\t\tfirebase.auth().signInWithCredential(googleCredential).then(() => this.onSignInSuccess())\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tconsole.log('error' + error)\n\t\t\t\t\t\tlet alert = this.alertCtrl.create({\n\t\t\t\t\t\t\ttitle: 'Pull Over',\n\t\t\t\t\t\t\tsubTitle: error.message,\n\t\t\t\t\t\t\tbuttons: ['Dismiss']\n\t\t\t\t\t\t});\n\t\t\t\t\t\talert.present();\n\n\t\t\t\t\t});\n\n\n\t\t\t})\n\t\t\t.catch(err => console.error(err));\n\n\n\n\t}\n\n\n\tsignInWithEmail(): void {\n\n\t\tfirebase.auth().signInWithEmailAndPassword(this.l.email, this.l.password)\n\t\t\t.then(r => {\n\t\t\t\tthis.onSignInSuccess()\n\t\t\t})\n\t\t\t.catch((error: firebase.FirebaseError) => {\n\t\t\t\t// Handle Errors here.\n\t\t\t\tthis.alertCtrl.create({\n\t\t\t\t\ttitle: 'Pull Over',\n\t\t\t\t\tsubTitle: error.message,\n\t\t\t\t\tbuttons: ['Try Again']\n\t\t\t\t}).present();\n\n\t\t\t});\n\n\t}\n\n\tsignUpWithEmail(): void {\n\n\t\tfirebase.auth().createUserWithEmailAndPassword(this.r.email, this.r.password)\n\t\t\t.then(r => {\n\t\t\t\tfirebase.auth().currentUser.updateProfile({\n\t\t\t\t\tdisplayName: this.r.name,\n\t\t\t\t\tphotoURL: \"https://storage.cloud.google.com/dride-2384f.appspot.com/assets/profilePic/pic\" + this.randProfilePic() + \".png\"\n\t\t\t\t}).then(() => {\n\t\t\t\t\tthis.sendVerificationEmail();\n\t\t\t\t\tthis.onSignInSuccess()\n\t\t\t\t}).catch(function (error) {\n\t\t\t\t\t// An error happened.\n\t\t\t\t\tconsole.error(error)\n\t\t\t\t});\n\n\n\t\t\t})\n\t\t\t.catch((error: firebase.FirebaseError) => {\n\t\t\t\t// Handle Errors here.\n\t\t\t\tthis.alertCtrl.create({\n\t\t\t\t\ttitle: 'Pull Over',\n\t\t\t\t\tsubTitle: error.message,\n\t\t\t\t\tbuttons: ['Try Again']\n\t\t\t\t}).present();\n\n\t\t\t});\n\n\t}\n\tsendVerificationEmail() {\n\t\tfirebase.auth().currentUser\n\t\t\t.sendEmailVerification()\n\t\t\t.catch(function (error) {\n\t\t\t\tconsole.error(error)\n\t\t\t});\n\n\t}\n\n\tresetPassword() {\n\n\t\tthis.alertCtrl.create({\n\t\t\ttitle: 'Reset Password',\n\t\t\tsubTitle: \"Enter your email\",\n\t\t\tinputs: [\n\t\t\t\t{\n\t\t\t\t\tname: 'email',\n\t\t\t\t\tplaceholder: 'Email'\n\t\t\t\t}\n\t\t\t],\n\t\t\tbuttons: [\n\t\t\t\t{\n\t\t\t\t\ttext: 'Cancel',\n\t\t\t\t\trole: 'cancel',\n\t\t\t\t\thandler: data => {\n\t\t\t\t\t\tconsole.log('Cancel clicked');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttext: 'Reset',\n\t\t\t\t\thandler: data => {\n\n\t\t\t\t\t\tfirebase.auth().sendPasswordResetEmail(data.email).then( () =>{\n\t\t\t\t\t\t\n\t\t\t\t\t\t\tthis.alertCtrl.create({\n\t\t\t\t\t\t\t\ttitle: 'Success',\n\t\t\t\t\t\t\t\tsubTitle: \"We've just sent you an email to reset your password\",\n\t\t\t\t\t\t\t\tbuttons: ['Thanks!']\n\t\t\t\t\t\t\t}).present();\n\n\t\t\t\t\t\t}).catch( (error) => {\n\t\t\t\t\t\t\tthis.alertCtrl.create({\n\t\t\t\t\t\t\t\ttitle: 'Pull Over',\n\t\t\t\t\t\t\t\tsubTitle: error.message,\n\t\t\t\t\t\t\t\tbuttons: ['Try Again']\n\t\t\t\t\t\t\t}).present();\n\t\t\t\t\t\t});\n\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t})\n\t\t.present();\n\n\n\t}\n\n\tsignOut(): void {\n\t\tthis.afAuth.auth.signOut();\n\t}\n\n\tprivate randProfilePic() {\n\t\treturn Math.random() * (5 - 1) + 1\n\t}\n\n\n\tprivate onSignInSuccess(): void {\n\t\t//set user id to firebase analytics\n\t\tthis.firebaseNative.setUserId(this.afAuth.auth.currentUser.uid)\n\t\tthis.firebaseNative.logEvent('signIn', { 'status': 'success' });\n\t\tthis.viewCtrl.dismiss({ completed: true });\n\t}\n\n\tcloseWindow() {\n\n\t\tthis.viewCtrl.dismiss({ completed: false });\n\n\t}\n\n\n\n\n\n\n\n\n\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/login/login.ts","import { Injectable } from '@angular/core';\nimport { Http } from \"@angular/http\";\nimport { AngularFireDatabase, FirebaseListObservable } from 'angularfire2/database';\n\n\n@Injectable()\nexport class CloudPaginationService {\n\n\tbusy: boolean = false;\n\tbefore: string = \"\";\n\tend: boolean = false;\n\tpublic uid: string;\n\tfbLits: FirebaseListObservable<any>;\n\titems: any = [];\n\titemsPool: any = [];\n\tconstructor(private http: Http, public db: AngularFireDatabase) {\n\t\tthis.busy = false;\n\n\n\n\t}\n\tloadUid(uid) {\n\t\tthis.uid = uid;\n\t\tthis.getClips();\n\t}\n\n\tgetClips = function () {\n\n\t\tif (this.busy || this.end) return;\n\t\tthis.busy = true;\n\t\tthis.fbLits = this.db.list('/clips/' + this.uid, {\n\t\t\tpreserveSnapshot: true,\n\t\t\tquery: {\n\t\t\t\torderByChild: \"dateUploaded\"\n\t\t\t}\n\t\t}).take(1)\n\t\tthis.fbLits.subscribe(snapshots => {\n\t\t\tthis.itemsPool = [];\n\t\t\tsnapshots.forEach(snapshot => {\n\n\t\t\t\tlet data = snapshot.val();\n\n\n\t\t\t\tvar itemsFromFB = this.reverseObject(data);\n\n\t\t\t\t//if we dont have a thumb or a clip skip \n\t\t\t\tif (!itemsFromFB || !itemsFromFB.thumbs || !itemsFromFB.clips || itemsFromFB.deleted) return;\n\n\t\t\t\titemsFromFB.videoId = snapshot.key\n\t\t\t\titemsFromFB.views = itemsFromFB.views ? itemsFromFB.views : '0'\n\n\n\t\t\t\tthis.itemsPool.push(itemsFromFB);\n\n\t\t\t})\n\t\t\t\n\t\t\tfor (var i = 0; i < this.itemsPool.length && this.itemsPool; i++) {\n\t\t\t\t\n\t\t\t\tlet currentVideo = this.itemsPool.pop();\n\t\t\t\tthis.items.push( currentVideo )\n\n\t\t\t}\n\n\n\n\t\t},\n\t\t\terror => {\n\t\t\t\tthis.end = true\n\t\t\t\t//TODO: log this\n\t\t\t\tconsole.log(\"An error occurred when requesting cloud clips.\");\n\t\t\t});\n\n\t};\n\n\tdoInfinite(infiniteScroll) {\n\t\treturn new Promise( (resolve, reject) => {\n\t\t\tfor (var i = 0; i < 5 && this.itemsPool.length; i++) {\n\t\t\t\tlet currentVideo = this.itemsPool.pop();\n\t\t\t\t\n\t\t\t\tthis.items.push( currentVideo )\n\n\t\t\t}\n\t\t\tresolve()\n\t\t})\n\t}\n\n\treverseObject(object) {\n\t\tvar newObject = {};\n\t\tvar keys = [];\n\t\tfor (var key in object) {\n\t\t\tkeys.push(key);\n\t\t}\n\t\tfor (var i = keys.length - 1; i >= 0; i--) {\n\t\t\tvar value = object[keys[i]];\n\t\t\tnewObject[keys[i]] = value;\n\t\t}\n\n\t\treturn newObject;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cloud/cloud-pagination.service.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\n\n/**\n * Generated class for the LivePage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@Component({\n  selector: 'page-live',\n  templateUrl: 'live.html',\n})\nexport class LivePage {\n\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/live/live.ts","import { Component } from '@angular/core';\nimport { NavController, LoadingController, AlertController } from 'ionic-angular';\n\nimport { Globals } from '../../providers/globals';\nimport { CalibrationPage } from '../../pages/calibration/calibration';\nimport { Settings } from '../../providers/settings';\nimport { FirmwareUpdate } from '../../providers/firmware-update';\nimport { AuthService } from '../../providers/auth-service';\nimport { Firebase } from '@ionic-native/firebase';\n\nimport { FirmwareUpdatePage } from '../firmware-update-page/firmware-update-page';\nimport { InAppBrowser } from '@ionic-native/in-app-browser';\n\n\n@Component({\n  selector: 'page-settings',\n  templateUrl: 'settings.html',\n  providers: [ Settings, Globals, FirmwareUpdate, FirmwareUpdatePage ]\n})\nexport class SettingsPage {\n\n  settingsNodes: Array<{title: string, category: string, id: string, icon: string}> = \n  [ \n  \t{\"title\": \"Sound\", \"category\": \"sound\", \"id\": \"mute\", \"icon\": \"volume-mute\"},\n  \t{\"title\": \"Microphone\", \"category\": \"sound\", \"id\": \"mic\", \"icon\": \"mic\"},\n  \t{\"title\": \"GPS\", \"category\": \"gps\", \"id\": \"gps\", \"icon\": \"navigate\"},\n  \t{\"title\": \"ADAS <label>Beta</label>\", \"category\": \"calibration\", \"id\": \"adas\", \"icon\": \"reverse-camera\"},\n  \t{\"title\": \"Video Recorder\", \"category\": \"mode\", \"id\": \"dvr\", \"icon\": \"videocam\"}\n  ]\n\n\n  public configObj: any = {\n                            \"mode\": {\n                               \"dvr\": \"False\"\n                            },\n                            \"video\": {\n                              \"flip\": \"False\"\n                            },\n                            \"gps\": {\n                              \"gps\": \"False\",\n                            },\n                            \"calibration\": {\n                              \"activation_speed\": \"0\"\n                            },\n                            \"sound\": {\n                              \"mute\": \"False\",\n                              \"mic\": \"False\"\n                            }\n                          }\n\n\n  constructor(public navCtrl: NavController, public settings: Settings, public firmwareUpdate: FirmwareUpdate, private _auth: AuthService, \n              public loadingCtrl: LoadingController, private alertCtrl: AlertController, private firebase: Firebase, private iab: InAppBrowser\n              ) {\n    \n\n     this.settings.load()\n      .then(data => {\n        this.configObj = data;\n        console.log(data)\n      }); \n\n\n  }\n\n  ionViewDidLoad() {\n    console.log('Hello SettingsPage Page');\n  }\n\n  openCalibration() {\n\n    this.navCtrl.push(CalibrationPage);\n\n  }\n\n  // will update dride's firmware.\n\n\n  promtUpdateDride(){\n      let alert = this.alertCtrl.create({\n      title: 'Confirm update',\n      message: 'This will update your Dride, Continue?',\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          handler: () => {\n            console.log('Cancel clicked');\n          }\n        },\n        {\n          text: 'Install',\n          handler: () => {\n            this.updateDride()\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n\n\n\n\n\n  updateDride(){\n\n\n    //this.navCtrl.push(FirmwareUpdatePage);\n\n    let loading = this.loadingCtrl.create({\n      content: 'Downloading new firmware...'\n    });\n    loading.present();\n\n    this.firmwareUpdate.getLatestFirmware()\n        .then(data => {\n            loading.setContent('Installing drideOS..')\n            this.firmwareUpdate.uploadFirmwareToDride(data)\n                    .then(data => {\n                            loading.dismiss();\n\n                              let alert = this.alertCtrl.create({\n                                title: 'Success',\n                                subTitle: 'The firmware was updated, Your device will now reboot..',\n                                buttons: ['Dismiss']\n                              });\n                              alert.present();\n                            \n                    }, (error) => {\n                      //FAILURE\n                       loading.dismiss();\n                        this.firebase.logEvent(\"firmware\", {content_type: \"fail\", item_id: \"upload\", info: error})\n                        let alert = this.alertCtrl.create({\n                          title: 'Something is wrong',\n                          subTitle: 'The firmware was not updated, Let us know dride.io/forum',\n                          buttons: ['OK']\n                        });\n                        alert.present();\n                              \n                      console.log(error);\n                  })  \n            }, (error) => {\n            //FAILURE\n            console.log(error);\n            loading.dismiss();\n            this.firebase.logEvent(\"firmware\", {content_type: \"fail\", item_id: \"download\", info: error})\n            let alert = this.alertCtrl.create({\n              title: 'Something is wrong',\n              subTitle: 'The firmware was not updated, Let us know dride.io/forum',\n              buttons: ['OK']\n            });\n            alert.present();\n\n        })  \n\n  }\n\n\n  setSetting(fieldName: string, fieldValue: string, CategoryName: string) {\n\n   this.settings.setSettings(fieldName, fieldValue, CategoryName);\n\n  }\n\n  isLoggedIn(){\n\n      //make sure the user Is logged in, a login pop up will jump if not.\n      return this._auth.authenticated;\n\n  }\n\n  /*\n  *  Will open the dride forum\n  */\n  sendToSupport(){\n\n    const browser = this.iab.create('https://dride.io/forum', '_system');\n\n  }\n\n  /*\n  *  Will show info for the device\n  */\n  getInfo(){\n\n    let alert = this.alertCtrl.create({\n      title: 'Device Info',\n      subTitle: 'Device version: ' + this.configObj.os.version,\n      buttons: ['Dismiss']\n    });\n    alert.present();\n\n\n  }\n\n  logOut(){\n\n      //make sure the user Is logged in, a login pop up will jump if not.\n      return this._auth.signOut();\n\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.ts","import { Component } from '@angular/core';\nimport { NavController, Platform, LoadingController } from 'ionic-angular';\nimport { Http } from '@angular/http';\nimport { Transfer, FileUploadOptions, TransferObject } from '@ionic-native/transfer';\nimport { File } from '@ionic-native/file';\nimport { Globals } from '../../providers/globals';\nimport { Observable } from 'rxjs/Rx';\nimport { Settings } from '../../providers/settings';\nimport { ManualCalibration } from '../../pages/manual-calibration/manual-calibration';\nimport { AuthService } from '../../providers/auth-service';\nimport firebase from 'firebase';\nimport { AngularFireDatabase, FirebaseObjectObservable } from 'angularfire2/database';\n\n/*\n  Generated class for the Calibration page.\n\n  See http://ionicframework.com/docs/v2/components/#navigation for more info on\n  Ionic pages and navigation.\n*/\n@Component({\n  selector: 'page-calibration',\n  templateUrl: 'calibration.html',\n    providers: [ Globals, Settings ]\n})\nexport class CalibrationPage {\n\n  public host: string; \n  public calibrationClips: any;\n  public loading: any;\n  public userClipDbObject: FirebaseObjectObservable<any[]>;\n  public serialNumber: String;\n  public calibrationStatus: String;\n  public calibrationStatusObj: FirebaseObjectObservable<any[]>;\n\n  public calibrationObj: any;\n\n\n\n\n\n  constructor(public navCtrl: NavController, public g: Globals, public settings: Settings, public http: Http,\n              private _auth: AuthService, public platform: Platform, public loadingCtrl: LoadingController, public af: AngularFireDatabase,\n              private transfer: Transfer, private file: File\n              ) {\n\n    this.host = g.host;\n\n\n  }\n\n\n\n  ionViewDidLoad() {\n\n   //get serialNumber && calibrationStatus\n   this.getSerialNumber().then(res => {\n     this.getCalibrationStatus().then(res => {\n\n           //if we need to upload new defaults file do this now\n            if (this.calibrationObj && this.calibrationObj.calibrationStatus == 'pendingUpload')    {\n\n                this.settings.setSettings('x1', this.calibrationObj.data.x1, 'calibration');\n                this.settings.setSettings('y1', this.calibrationObj.data.y1, 'calibration');\n                this.settings.setSettings('road_height', this.calibrationObj.data.road_height, 'calibration');\n                this.settings.setSettings('road_width', this.calibrationObj.data.road_width, 'calibration');\n                this.settings.setSettings('square_width', this.calibrationObj.data.square_width, 'calibration');\n                this.settings.setSettings('square_height', this.calibrationObj.data.square_height, 'calibration');\n\n                this.userClipDbObject = this.af.object('devices/' +'/' + this._auth.getUid() + '/' + this.serialNumber);\n                this.userClipDbObject.update({\n                    calibrationStatus: ''\n                }).then(_ => console.log('defaults updated'));\n\n            }\n\n\n     })\n   })\n \n\n\n    this.getCalibrationClips();\n  }\n\n\n\n  getCalibrationClips(){\n\n\n    // don't have the data yet\n    return new Promise(resolve => {\n\n      this.http.get( this.host + '/api/getCalibrationClips')\n        .map(res => res.json())\n        .subscribe(data => {\n\n          this.calibrationClips = data.data;\n\n          resolve(this.calibrationClips);\n        });\n    });\n  \n\n\n\n\n  }\n\n\n  uploadClipsForCalibration() {\n\n\n    //make sure the user Is logged in, a login pop up will jump if not.\n    this._auth.isLogedIn().then(result => {\n\n\n        //loop 5 clips on this.calibrationClips\n        for (var key in this.calibrationClips) {\n             this.download(this.calibrationClips[key]);\n        };\n\n\n\n    }, function(reason) {\n      console.log('close modal without execution.');\n    });\n\n\n\n  }\n\n  public showLoading(){\n    this.loading = this.loadingCtrl.create({\n      content: 'Uploading...'\n    });\n\n    this.loading.present(); \n  }\n\n  public dismissLoanding(){\n    this.loading.dismiss();\n  }\n\n  public download(vidoeId){\n\n    if (!this.platform.is('cordova')) {\n     alert('Platform not supported');\n     return;\n    }\n\n    this.showLoading();\n  \n    const fileTransfer: TransferObject = this.transfer.create();\n\n    let url = this.host + '/modules/video/clip/' + vidoeId + '.mp4';\n\n    fileTransfer.download(url, this.file.dataDirectory + 'tmpSharedClips.mp4').then((entry) => {\n      console.log(entry);\n      console.log('download complete: ' + entry.toURL());\n\n\n      this.file.readAsArrayBuffer(this.file.dataDirectory, 'tmpSharedClips.mp4').then(file => {\n        this.uploadToDrideNetworkFB(file, vidoeId, 'clips');\n        this.uploadThumbOnBackground(vidoeId, fileTransfer);\n        this.uploadGPSOnBackground(vidoeId, fileTransfer);\n      }).catch(err => console.error('file upload failed ', err));\n      \n    }, (error) => {\n      // handle error\n      console.log(error);\n    });\n  }\n\n\n   public uploadThumbOnBackground(vidoeId, fileTransfer){\n    let url = this.host + '/modules/video/thumb/' + vidoeId + '.jpg';\n\n    fileTransfer.download(url, this.file.dataDirectory + 'tmpSharedClips.jpg').then((entry) => {\n      console.log(entry);\n      console.log('download complete [thumb]: ' + entry.toURL());\n\n      this.file.readAsArrayBuffer(this.file.dataDirectory, 'tmpSharedClips.jpg').then(file => {\n        this.uploadToDrideNetworkFB(file, vidoeId, 'thumbs');\n      }).catch(err => console.error('file upload failed [thumb] ', err));\n      \n    }, (error) => {\n      // handle error\n      console.log(error);\n    });\n  }\n\n  public uploadGPSOnBackground(vidoeId, fileTransfer){\n    let url = this.host + '/modules/video/gps/' + vidoeId + '.json';\n\n    fileTransfer.download(url, this.file.dataDirectory + 'tmpSharedGPS.json').then((entry) => {\n      console.log(entry);\n      console.log('download complete [thumb]: ' + entry.toURL());\n\n      this.file.readAsArrayBuffer(this.file.dataDirectory, 'tmpSharedGPS.json').then(file => {\n        this.uploadToDrideNetworkFB(file, vidoeId, 'gps');\n      }).catch(err => console.error('file upload failed [GPS] ', err));\n      \n    }, (error) => {\n      // handle error\n      console.log(error);\n    });\n  }\n\n\n  public uploadToDrideNetworkFB(file, vidoeId, bucket){\n\n\n    // Create a root reference\n    var uid = this._auth.getUid();\n\n    var storage = firebase.storage();\n    const storageRef = storage.ref().child(bucket).child(uid).child(vidoeId + (this.getFileExtensionByBucketName(bucket)));\n    storageRef.put(file).then((data) => {\n       // success\n       console.log(\"Upload completed  \" )\n\n       storageRef.getDownloadURL().then(url => {\n         \n               //save to DB\n                this.userClipDbObject = this.af.object('/clips/' + uid + '/' + '/' + vidoeId + '/' + bucket);\n                this.userClipDbObject.set({\n                    src: url\n                }).then(_ => console.log('item added! ' + bucket));\n\n                //mark clip as un-active\n                this.userClipDbObject = this.af.object('/clips/' + uid + '/' + '/' + vidoeId );\n                this.userClipDbObject.update({\n                    active: 0\n                });\n\n                //update calibration Status for DEVICE to watingForCalibration\n                this.userClipDbObject = this.af.object('/devices/' +'/' + uid + '/' + this.serialNumber + '/' );\n                this.userClipDbObject.update({\n                    calibrationStatus: 'watingForCalibration'\n                });\n\n               if (bucket == 'clips'){\n                 this.dismissLoanding();\n               }\n             }, (err) => {\n               // error\n               console.log(err)\n             })\n\n       });\n  }\n\n\n\n  public getFileExtensionByBucketName(bucket){\n\n      if (bucket == 'clips' )\n        return '.mp4';\n      if (bucket == 'thumbs' )\n        return '.jpg';\n      if (bucket == 'gps' )\n        return '.json';\n\n  }\n\n\n  public getSerialNumber(){\n\n    // don't have the data yet\n    return new Promise(resolve => {\n\n      this.http.get( this.host + '/api/getSerialNumber')\n        .map(res => res.json())\n        .subscribe(data => {\n\n          this.serialNumber = data.serial;\n          \n          resolve(this.serialNumber);\n        });\n    });\n  }\n\n  public getCalibrationStatus(){\n\n\n    return new Promise(resolve => {\n\n       this.af.object('devices/' +'/' + this._auth.getUid() + '/' + this.serialNumber, { preserveSnapshot: true })\n       .subscribe(snapshot => {\n          this.calibrationObj = snapshot.val()\n          resolve(this.calibrationObj)\n        });\n\n    });\n\n  }\n\n\n\n\n  manualCalibration() {\n    this.navCtrl.push(ManualCalibration);\n  }\n\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/calibration/calibration.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams  } from 'ionic-angular';\nimport { Globals } from '../../providers/globals';\nimport { Observable } from 'rxjs/Rx';\nimport { Settings } from '../../providers/settings';\n\n\n/**\n * Generated class for the ManualCalibration page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@Component({\n  selector: 'page-manual-calibration',\n  templateUrl: 'manual-calibration.html',\n  providers: [ Globals, Settings ]\n})\nexport class ManualCalibration {\n\n  public host: string; \n  public imgSrc: string; \n\n  public calibrationObj: any\n\n  constructor(public navCtrl: NavController, public g: Globals, public settings: Settings) {\n\n  \tthis.host = g.host;\n  \tthis.imgSrc = this.host + '/api/getCalibrationImage/';\n  \t\n  \t//start calibration\n  \tthis.settings.setSettings('in_calibration', 'True', 'mode')\n\n\t this.settings.load()\n\t  .then(data => {\n\t    this.calibrationObj = data.calibration;\n\n\t  }); \n\n  \tObservable.interval(1000)\n\t  .subscribe(data => {\n\t  \tconsole.log('updateCurrentFrame');\n\t    this.imgSrc = this.host + '/api/getCalibrationImage/?time=' + new Date();\n\n\t  })\n\n  }\n\n\n  updateCalibration(direction: String){\n\n  \tif (direction == 'right'){\n   \t\tthis.settings.setSettings('x1', (parseInt(this.calibrationObj.x1) + 10) + '', 'calibration')\n   \t\tthis.calibrationObj.x1 = (parseInt(this.calibrationObj.x1) + 10) + ''\n  \t}\n  \tif (direction == 'left'){\n   \t\tthis.settings.setSettings('x1', (parseInt(this.calibrationObj.x1) - 10) + '', 'calibration')\n   \t\tthis.calibrationObj.x1 = (parseInt(this.calibrationObj.x1) - 10) + ''\n  \t}\n\n\n  \tif (direction == 'up'){\n   \t\tthis.settings.setSettings('y1', (parseInt(this.calibrationObj.y1) - 10) + '', 'calibration')\n   \t\tthis.calibrationObj.y1 = (parseInt(this.calibrationObj.y1) - 10) + ''\n\n  \t}\n  \tif (direction == 'down'){\n   \t\tthis.settings.setSettings('y1', (parseInt(this.calibrationObj.y1) + 10) + '', 'calibration')\n   \t\tthis.calibrationObj.y1 = (parseInt(this.calibrationObj.y1) + 10) + ''\n  \t}\n\n\n  }\n\n\n  finishCalibration(){\n\n   \tthis.settings.setSettings('in_calibration', 'False', 'mode')\n\n   \tthis.navCtrl.pop();\n\n\n  }\n\n\n\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/manual-calibration/manual-calibration.ts","import { Injectable } from '@angular/core';\nimport 'rxjs/add/operator/map';\nimport { Platform } from 'ionic-angular';\n\n@Injectable()\nexport class Globals {\n\npublic host: string; \n\nconstructor(public platform: Platform) {\n\n\tif (this.platform.is('cordova'))\n\t\tthis.host = \"http://192.168.42.1:9000\"; \n\telse\n\t\tthis.host = \"http://192.168.42.1:9000\"; \n\n\n}\n\n\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/globals.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\nimport 'web-animations-js/web-animations.min';\n\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { HttpModule } from '@angular/http';\nimport { environment } from '../environments/environment';\nimport { NgModule, ErrorHandler} from '@angular/core';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\nimport { MyApp } from './app.component';\nimport { AngularFireModule } from 'angularfire2';\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\nimport { AngularFireAuthModule } from 'angularfire2/auth';\nimport { AuthService } from '../providers/auth-service';\nimport { DeviceConnectionService } from '../providers/device-connection-service';\nimport { Globals } from '../providers/globals';\n\n\nimport { clipsPage } from '../pages/clipsPage/clipsPage';\nimport { SettingsPage } from '../pages/settings/settings';\nimport { CloudPage, KeysPipe } from '../pages/cloud/cloud';\nimport { CloudPaginationService } from '../pages/cloud/cloud-pagination.service';\nimport { LivePage } from '../pages/live/live';\n\n\nimport { FirmwareUpdatePage } from '../pages/firmware-update-page/firmware-update-page';\nimport { CalibrationPage } from '../pages/calibration/calibration';\nimport { ManualCalibration } from '../pages/manual-calibration/manual-calibration';\n\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { Facebook, FacebookLoginResponse } from '@ionic-native/facebook';\nimport { VideoEditor } from '@ionic-native/video-editor';\nimport { Dialogs } from '@ionic-native/dialogs';\nimport { GooglePlus } from '@ionic-native/google-plus';\nimport { Firebase } from '@ionic-native/firebase';\nimport { Toast } from '@ionic-native/toast';\nimport { Insomnia } from '@ionic-native/insomnia';\nimport { Transfer, FileUploadOptions, TransferObject } from '@ionic-native/transfer';\nimport { File } from '@ionic-native/file';\nimport { SocialSharing } from '@ionic-native/social-sharing';\nimport { InAppBrowser } from '@ionic-native/in-app-browser';\nimport { BLE } from '@ionic-native/ble';\nimport { LaunchReview } from '@ionic-native/launch-review';\nimport { NativeStorage } from '@ionic-native/native-storage';\nimport { OpenNativeSettings } from '@ionic-native/open-native-settings';\n\nimport { LocalNotifications } from '@ionic-native/local-notifications';\nimport { MomentModule } from 'angular2-moment';\nimport { ElasticModule } from 'angular2-elastic';\n\n\n//videogular2\nimport {VgCoreModule} from 'videogular2/core';\nimport {VgControlsModule} from 'videogular2/controls';\nimport {VgOverlayPlayModule} from 'videogular2/overlay-play';\nimport {VgBufferingModule} from 'videogular2/buffering';\n\n//components\nimport { LoginComponent } from '../components/login/login';\nimport { ConnectDrideComponent } from '../components/connect-dride/connect-dride';\nimport { UploadPage } from '../components/upload/upload';\nimport { ErrorLoggerProvider } from '../providers/error-logger/error-logger';\nimport { InFeedPromtComponent } from '../components/in-feed-promt/in-feed-promt';\nimport { ConnectStateProvider } from '../providers/connect-state/connect-state';\nimport { AndroidConnectorProvider } from '../providers/android-connector/android-connector';\n\n\n@NgModule({\n  declarations: [\n    MyApp,\n    clipsPage,\n    SettingsPage,\n    UploadPage,\n\tCloudPage,\n\tLivePage,\n    CalibrationPage,\n    ManualCalibration,\n    LoginComponent,\n    ConnectDrideComponent,\n    KeysPipe,\n    InFeedPromtComponent\n  ],\n  imports: [\n    BrowserModule,\n    HttpModule,\n    MomentModule,\n    IonicModule.forRoot(MyApp, {\n      mode: 'ios',\n      scrollAssist: false,\n      autoFocusAssist: false\n    }),\n    AngularFireModule.initializeApp(environment.firebase),\n    AngularFireDatabaseModule, \n    AngularFireAuthModule,\n    VgCoreModule,\n    VgControlsModule,\n    VgOverlayPlayModule,\n    VgBufferingModule,\n    ElasticModule,\n    BrowserAnimationsModule\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    clipsPage,\n    UploadPage,\n    CloudPage,\n    SettingsPage,\n    CalibrationPage,\n    ManualCalibration,\n    LoginComponent,\n    ConnectDrideComponent\n  ],\n  providers: [{provide: ErrorHandler, useClass: ErrorLoggerProvider}, \n              AuthService,\n              LoginComponent,\n              DeviceConnectionService,\n              ConnectDrideComponent,\n              Globals,\n              SplashScreen,\n              StatusBar,\n              Facebook,\n              Dialogs,\n              GooglePlus,\n              Firebase,\n              Toast,\n              Insomnia,\n              Transfer,\n              File,\n              VideoEditor,\n              SocialSharing,\n              InAppBrowser,\n\t\t\t  BLE,\n\t\t\t  LaunchReview,\n              LocalNotifications,\n\t\t\t  CloudPaginationService,\n\t\t\t  NativeStorage,\n\t\t\t  ErrorLoggerProvider,\n\t\t\t  ConnectStateProvider,\n\t\t\t  OpenNativeSettings,\n    \t\t  AndroidConnectorProvider\n             ]\n})\nexport class AppModule {}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { Nav, Platform, Config } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\n\nimport { clipsPage } from '../pages/clipsPage/clipsPage';\nimport { CloudPage } from '../pages/cloud/cloud';\nimport { SettingsPage } from '../pages/settings/settings';\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  @ViewChild(Nav) nav: Nav;\n\n  rootPage: any = clipsPage;\n  profileModal: any;\n\n  pages: Array<{title: string, component: any}>;\n \n  constructor(public platform: Platform,  public splashScreen: SplashScreen, public statusBar: StatusBar, private config: Config) {\n    this.initializeApp();\n\n    // used for an example of ngFor and navigation\n    this.pages = [\n      { title: 'Main', component: clipsPage },\n      { title: 'Settings', component: SettingsPage },\n      { title: 'My Videos', component: CloudPage }\n    ];\n\n  }\n\n\n  initializeApp() {\n    this.platform.ready().then(() => {\n\n      this.statusBar.overlaysWebView(false); // let status bar overlay webview\n\n      this.statusBar.backgroundColorByHexString('#333333'); // set status bar to green\n\n      this.statusBar.styleDefault();\n      this.splashScreen.hide();\n      this.config.set('backButtonText', '');\n\n    });\n  }\n\n  openPage(page) {\n    // Reset the content nav to have just this page\n    // we wouldn't want the back button to show in this scenario\n    this.nav.push(page.component);\n  }\n\n\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { Platform , ModalController } from 'ionic-angular';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\n\nimport { AngularFireAuthModule, AngularFireAuth } from 'angularfire2/auth';\nimport { Facebook, FacebookLoginResponse } from '@ionic-native/facebook';\nimport { LoginComponent } from '../components/login/login';\n\n\n@Injectable()\nexport class AuthService {\n  public authState: Observable<firebase.User>;\n\n  FB_APP_ID: number = 1825311747740641;\n\n  user: any;\n\n  constructor(public afAuth: AngularFireAuth, private platform: Platform, public modalCtrl: ModalController,\n              private fb: Facebook) {\n\n    this.fb.browserInit(this.FB_APP_ID, \"v2.8\");\n\n    this.authState = afAuth.authState;\n    \n  }\n\n  get authenticated(): boolean {\n    return this.afAuth.auth.currentUser !== null;\n  }\n\n  getUid(): string{\n    return this.afAuth.auth.currentUser.uid;\n  }\n\n  getUser(): any{\n    return this.afAuth.auth.currentUser;\n  }\n\n  isLogedIn(): Promise<any> {\n\n      return new Promise<boolean>((resolve, reject) => {\n\n         if (!this.authenticated){\n\n             //open login pop up\n             let profileModal = this.modalCtrl.create(LoginComponent);\n             profileModal.onDidDismiss(data => {\n\n               data.completed ? resolve(true) : reject();\n\n             });\n             profileModal.present();\n\n\n         }\n         else\n           resolve(true);\n        \n    });\n  }\n\n\n  signOut(): any{\n\n     this.afAuth.auth.signOut();\n\n  }\n  \n\n\n\n\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/auth-service.ts","import { Injectable } from '@angular/core';\nimport { Transfer, FileUploadOptions, TransferObject } from '@ionic-native/transfer';\nimport { File } from '@ionic-native/file';\nimport { Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport { Globals } from '../providers/globals';\n\n/*\n  Generated class for the FirmwareUpdate provider.\n\n  Will update dride's firmware from gitHub releases\n*/\n\n@Injectable()\nexport class FirmwareUpdate {\n\n\n\tpublic host: string;\n\tpublic firmwareZip: any;\n\n\n\tconstructor(public http: Http, public g: Globals, private transfer: Transfer, private file: File) {\n\t\t\n\t\tthis.host = g.host;\n\n\t}\n\n\n\tupdateDride(){\n\n\t\t//get the latest firmware from gitHub release.\n\t\tthis.getLatestFirmware();\n\n\t}\n\n\tgetLatestFirmware() {\n\t\treturn new Promise((resolve, reject) => {\n\n\t   \t\tconst fileTransfer: TransferObject = this.transfer.create();\n\n\t\t    let url =  'https://s3.amazonaws.com/dride/releases/cardigan/latest.zip';\n\n\t\t    fileTransfer.download(url, this.file.dataDirectory + 'latest.zip').then((entry) => {\n\t\t      console.log('download complete: ' + entry.toURL());\n\t\t      resolve(entry.toURL());\n\n\t\t    }, (error) => {\n\t\t      // handle error\n\t\t      console.log(error);\n\t\t      reject();\n\t\t    });\n\t  });\n\t}\n\n\n\n\tuploadFirmwareToDride(zipUrl){\n\t\treturn new Promise((resolve, reject) => {\n\n\t\t\tconst fileTransfer: TransferObject = this.transfer.create();\n\t\t  let options: FileUploadOptions = {\n\t\t     fileKey: 'file',\n\t\t     fileName: 'latest.zip'\n\t\t  }\n\n\t\t  fileTransfer.upload(zipUrl, this.host + '/api/updateFirmware', options)\n\t\t   .then((data) => {\n\t\t     // success\n\t\t     console.log(data)\n\t\t     resolve(data);\n\t\t   }, (err) => {\n\t\t     // error\n\t\t     reject(err);\n\t\t   })\n\t\t\n\n\n\t\t\t\n\n\t\t  });\n\n\n\t}\n\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/firmware-update.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\n\n/**\n * Generated class for the FirmwareUpdatePage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@Component({\n  selector: 'page-firmware-update-page',\n  templateUrl: 'firmware-update-page.html',\n})\nexport class FirmwareUpdatePage {\n\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad FirmwareUpdatePage');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/firmware-update-page/firmware-update-page.ts","var map = {\n\t\"./af\": 316,\n\t\"./af.js\": 316,\n\t\"./ar\": 317,\n\t\"./ar-dz\": 318,\n\t\"./ar-dz.js\": 318,\n\t\"./ar-kw\": 319,\n\t\"./ar-kw.js\": 319,\n\t\"./ar-ly\": 320,\n\t\"./ar-ly.js\": 320,\n\t\"./ar-ma\": 321,\n\t\"./ar-ma.js\": 321,\n\t\"./ar-sa\": 322,\n\t\"./ar-sa.js\": 322,\n\t\"./ar-tn\": 323,\n\t\"./ar-tn.js\": 323,\n\t\"./ar.js\": 317,\n\t\"./az\": 324,\n\t\"./az.js\": 324,\n\t\"./be\": 325,\n\t\"./be.js\": 325,\n\t\"./bg\": 326,\n\t\"./bg.js\": 326,\n\t\"./bn\": 327,\n\t\"./bn.js\": 327,\n\t\"./bo\": 328,\n\t\"./bo.js\": 328,\n\t\"./br\": 329,\n\t\"./br.js\": 329,\n\t\"./bs\": 330,\n\t\"./bs.js\": 330,\n\t\"./ca\": 331,\n\t\"./ca.js\": 331,\n\t\"./cs\": 332,\n\t\"./cs.js\": 332,\n\t\"./cv\": 333,\n\t\"./cv.js\": 333,\n\t\"./cy\": 334,\n\t\"./cy.js\": 334,\n\t\"./da\": 335,\n\t\"./da.js\": 335,\n\t\"./de\": 336,\n\t\"./de-at\": 337,\n\t\"./de-at.js\": 337,\n\t\"./de-ch\": 338,\n\t\"./de-ch.js\": 338,\n\t\"./de.js\": 336,\n\t\"./dv\": 339,\n\t\"./dv.js\": 339,\n\t\"./el\": 340,\n\t\"./el.js\": 340,\n\t\"./en-au\": 341,\n\t\"./en-au.js\": 341,\n\t\"./en-ca\": 342,\n\t\"./en-ca.js\": 342,\n\t\"./en-gb\": 343,\n\t\"./en-gb.js\": 343,\n\t\"./en-ie\": 344,\n\t\"./en-ie.js\": 344,\n\t\"./en-nz\": 345,\n\t\"./en-nz.js\": 345,\n\t\"./eo\": 346,\n\t\"./eo.js\": 346,\n\t\"./es\": 347,\n\t\"./es-do\": 348,\n\t\"./es-do.js\": 348,\n\t\"./es.js\": 347,\n\t\"./et\": 349,\n\t\"./et.js\": 349,\n\t\"./eu\": 350,\n\t\"./eu.js\": 350,\n\t\"./fa\": 351,\n\t\"./fa.js\": 351,\n\t\"./fi\": 352,\n\t\"./fi.js\": 352,\n\t\"./fo\": 353,\n\t\"./fo.js\": 353,\n\t\"./fr\": 354,\n\t\"./fr-ca\": 355,\n\t\"./fr-ca.js\": 355,\n\t\"./fr-ch\": 356,\n\t\"./fr-ch.js\": 356,\n\t\"./fr.js\": 354,\n\t\"./fy\": 357,\n\t\"./fy.js\": 357,\n\t\"./gd\": 358,\n\t\"./gd.js\": 358,\n\t\"./gl\": 359,\n\t\"./gl.js\": 359,\n\t\"./gom-latn\": 360,\n\t\"./gom-latn.js\": 360,\n\t\"./he\": 361,\n\t\"./he.js\": 361,\n\t\"./hi\": 362,\n\t\"./hi.js\": 362,\n\t\"./hr\": 363,\n\t\"./hr.js\": 363,\n\t\"./hu\": 364,\n\t\"./hu.js\": 364,\n\t\"./hy-am\": 365,\n\t\"./hy-am.js\": 365,\n\t\"./id\": 366,\n\t\"./id.js\": 366,\n\t\"./is\": 367,\n\t\"./is.js\": 367,\n\t\"./it\": 368,\n\t\"./it.js\": 368,\n\t\"./ja\": 369,\n\t\"./ja.js\": 369,\n\t\"./jv\": 370,\n\t\"./jv.js\": 370,\n\t\"./ka\": 371,\n\t\"./ka.js\": 371,\n\t\"./kk\": 372,\n\t\"./kk.js\": 372,\n\t\"./km\": 373,\n\t\"./km.js\": 373,\n\t\"./kn\": 374,\n\t\"./kn.js\": 374,\n\t\"./ko\": 375,\n\t\"./ko.js\": 375,\n\t\"./ky\": 376,\n\t\"./ky.js\": 376,\n\t\"./lb\": 377,\n\t\"./lb.js\": 377,\n\t\"./lo\": 378,\n\t\"./lo.js\": 378,\n\t\"./lt\": 379,\n\t\"./lt.js\": 379,\n\t\"./lv\": 380,\n\t\"./lv.js\": 380,\n\t\"./me\": 381,\n\t\"./me.js\": 381,\n\t\"./mi\": 382,\n\t\"./mi.js\": 382,\n\t\"./mk\": 383,\n\t\"./mk.js\": 383,\n\t\"./ml\": 384,\n\t\"./ml.js\": 384,\n\t\"./mr\": 385,\n\t\"./mr.js\": 385,\n\t\"./ms\": 386,\n\t\"./ms-my\": 387,\n\t\"./ms-my.js\": 387,\n\t\"./ms.js\": 386,\n\t\"./my\": 388,\n\t\"./my.js\": 388,\n\t\"./nb\": 389,\n\t\"./nb.js\": 389,\n\t\"./ne\": 390,\n\t\"./ne.js\": 390,\n\t\"./nl\": 391,\n\t\"./nl-be\": 392,\n\t\"./nl-be.js\": 392,\n\t\"./nl.js\": 391,\n\t\"./nn\": 393,\n\t\"./nn.js\": 393,\n\t\"./pa-in\": 394,\n\t\"./pa-in.js\": 394,\n\t\"./pl\": 395,\n\t\"./pl.js\": 395,\n\t\"./pt\": 396,\n\t\"./pt-br\": 397,\n\t\"./pt-br.js\": 397,\n\t\"./pt.js\": 396,\n\t\"./ro\": 398,\n\t\"./ro.js\": 398,\n\t\"./ru\": 399,\n\t\"./ru.js\": 399,\n\t\"./sd\": 400,\n\t\"./sd.js\": 400,\n\t\"./se\": 401,\n\t\"./se.js\": 401,\n\t\"./si\": 402,\n\t\"./si.js\": 402,\n\t\"./sk\": 403,\n\t\"./sk.js\": 403,\n\t\"./sl\": 404,\n\t\"./sl.js\": 404,\n\t\"./sq\": 405,\n\t\"./sq.js\": 405,\n\t\"./sr\": 406,\n\t\"./sr-cyrl\": 407,\n\t\"./sr-cyrl.js\": 407,\n\t\"./sr.js\": 406,\n\t\"./ss\": 408,\n\t\"./ss.js\": 408,\n\t\"./sv\": 409,\n\t\"./sv.js\": 409,\n\t\"./sw\": 410,\n\t\"./sw.js\": 410,\n\t\"./ta\": 411,\n\t\"./ta.js\": 411,\n\t\"./te\": 412,\n\t\"./te.js\": 412,\n\t\"./tet\": 413,\n\t\"./tet.js\": 413,\n\t\"./th\": 414,\n\t\"./th.js\": 414,\n\t\"./tl-ph\": 415,\n\t\"./tl-ph.js\": 415,\n\t\"./tlh\": 416,\n\t\"./tlh.js\": 416,\n\t\"./tr\": 417,\n\t\"./tr.js\": 417,\n\t\"./tzl\": 418,\n\t\"./tzl.js\": 418,\n\t\"./tzm\": 419,\n\t\"./tzm-latn\": 420,\n\t\"./tzm-latn.js\": 420,\n\t\"./tzm.js\": 419,\n\t\"./uk\": 421,\n\t\"./uk.js\": 421,\n\t\"./ur\": 422,\n\t\"./ur.js\": 422,\n\t\"./uz\": 423,\n\t\"./uz-latn\": 424,\n\t\"./uz-latn.js\": 424,\n\t\"./uz.js\": 423,\n\t\"./vi\": 425,\n\t\"./vi.js\": 425,\n\t\"./x-pseudo\": 426,\n\t\"./x-pseudo.js\": 426,\n\t\"./yo\": 427,\n\t\"./yo.js\": 427,\n\t\"./zh-cn\": 428,\n\t\"./zh-cn.js\": 428,\n\t\"./zh-hk\": 429,\n\t\"./zh-hk.js\": 429,\n\t\"./zh-tw\": 430,\n\t\"./zh-tw.js\": 430\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 765;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/locale ^\\.\\/.*$\n// module id = 765\n// module chunks = 0","import { Injectable } from '@angular/core';\nimport { IonicErrorHandler, Platform } from 'ionic-angular';  \nimport { Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport { Firebase } from '@ionic-native/firebase';\nimport Raven from 'raven-js';\n\nRaven  \n.config('https://486d6171a51743d895bf5e6faecbce85@sentry.io/198699',\n        { \n            release: '0.2.5', \n            dataCallback: data => {\n\n                if (data.culprit) {\n                    data.culprit = data.culprit.substring(data.culprit.lastIndexOf('/'));\n                }\n\n                var stacktrace = data.stacktrace || \n                                 data.exception && \n                                 data.exception.values[0].stacktrace;\n\n                if (stacktrace) {\n                    stacktrace.frames.forEach(function (frame) {\n                        frame.filename = frame.filename.substring(frame.filename.lastIndexOf('/'));\n                    });\n                }\n            } \n        })\n.install();\n\n/*\n  Generated class for the ErrorLoggerProvider provider.\n\n  See https://angular.io/docs/ts/latest/guide/dependency-injection.html\n  for more info on providers and Angular DI.\n*/\n@Injectable()\nexport class ErrorLoggerProvider extends IonicErrorHandler{\n\n    constructor(private firebase: Firebase, private platform: Platform) { \n      super()\n    }\n\n\n    handleError(error) {\n        super.handleError(error);\n\n\t\t//show string error for debug\n\t\tconsole.error(error.originalError ? error.originalError.toString() : error.toString())\n\n\t\tconsole.log(this.platform)\n\t\tif (this.platform.is('cordova')){\n\t\t\ttry {\n\t\t\t\tRaven.captureException(error.originalError || error);\n\t\t\t}\n\t\t\tcatch(e) {\n\t\t\tconsole.error(e);\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tthis.firebase.logEvent('error', error.originalError || error);\n\t\t\t}\n\t\t\tcatch(e) {\n\t\t\tconsole.error(e);\n\t\t\t}\n\t\t}\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/error-logger/error-logger.ts","import { Component } from '@angular/core';\nimport { LaunchReview } from '@ionic-native/launch-review';\nimport { Platform } from 'ionic-angular';  \nimport { trigger, state, style, transition, animate } from '@angular/animations'\nimport { InAppBrowser } from '@ionic-native/in-app-browser';\nimport { Firebase } from '@ionic-native/firebase';\nimport { NativeStorage } from '@ionic-native/native-storage';\n\n/**\n * Generated class for the InFeedPromtComponent component.\n *\n * See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html\n * for more info on Angular Components.\n */\n@Component({\n\tselector: 'in-feed-promt',\n\ttemplateUrl: 'in-feed-promt.html',\n\tanimations: [\n\t\ttrigger(\n\t\t\t'introAnim',\n\t\t\t[\n\t\t\t\ttransition(\n\t\t\t\t\t':enter', [\n\t\t\t\t\t\tstyle({ opacity: 0 }),\n\t\t\t\t\t\tanimate('1s cubic-bezier(.75,-0.48,.26,1.52)', style({ transform: 'translateY(0px)', opacity: 1 })),\n\t\t\t\t\t]\n\t\t\t\t),\n\t\t\t\ttransition(\n\t\t\t\t\t':leave', [\n\t\t\t\t\t\tstyle({ 'opacity': 1 }),\n\t\t\t\t\t\tanimate('.5s cubic-bezier(.75,-0.48,.26,1.52)', style({ transform: 'translateY(100px)', opacity: 0 })),\n\t\t\t\t\t],\n\t\t\t\t)]\n\t\t)\n\t  ]\n})\nexport class InFeedPromtComponent {\n\n\tvisible = false;\n\tscreen: string = \"pre\";\n\tconstructor(private launchReview: LaunchReview, \n\t\t\t\tprivate platform: Platform, \n\t\t\t\tprivate iab: InAppBrowser, \n\t\t\t\tprivate firebaseNative: Firebase,\n\t\t\t\tprivate nativeStorage: NativeStorage) {\n\n\t\t\t\t\tif (this.platform.is('cordova'))\n\t\t\t\t\t\tthis.nativeStorage.getItem('inFeedPromt')\n\t\t\t\t\t\t.then(\n\t\t\t\t\t\tdata => {\n\t\t\t\t\t\t\tif (data.dte && (new Date().getTime() - data.dte) > 3*24*60*60*1000 )\n\t\t\t\t\t\t\t\tthis.visible = data.visible\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tthis.nativeStorage.setItem('inFeedPromt', {visible: true, dte: new Date().getTime()})\n\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\terror => console.error(error)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\n\t}\n\n\taskToLeaveFeedback() {\n\t\tthis.screen = \"feedback\";\n\t\tthis.firebaseNative.logEvent(\"askToLeaveFeedback\", {});\n\t}\n\taskToLeaveRating() {\n\t\tthis.screen = \"rating\";\n\t\tthis.firebaseNative.logEvent(\"askToLeaveRating\", {});\n\t}\n\tleaveRating() {\n\n\t\tvar appId = this.platform.is('ios') ? \"1260340386\" : 'io.dride.yi';\n\t\tthis.launchReview.launch(appId).then(r => {\n\t\t\tthis.firebaseNative.logEvent(\"leave review\", {});\n\t\t\tthis.nativeStorage.setItem('inFeedPromt', {visible: false, dte: new Date().getTime()})\n\t\t})\n\n\t}\n\tleaveFeedback() {\n\n\t\tconst browser = this.iab.create('https://dride.io/forum?action=post', '_system');\n\t\tthis.firebaseNative.logEvent(\"leave feedback\", {});\n\t\tthis.hide()\n\t\tthis.nativeStorage.setItem('inFeedPromt', {visible: false, dte: new Date().getTime()})\n\t\t\n\t}\n\thide() {\n\t\tthis.visible = false\n\t\tthis.nativeStorage.setItem('inFeedPromt', {visible: false, dte: new Date().getTime()})\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/in-feed-promt/in-feed-promt.ts"],"sourceRoot":""}